<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JJH (JVM JIT HOAS) compilation for Aya | Aya Prover</title>
    <meta name="description" content="Website for the Aya theorem prover">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.CRpG7vFT.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.HMtUnl-A.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BZtxTXf2.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BV7BAn2o.js">
    <link rel="modulepreload" href="/assets/blog_jit-compile.md.C4HT5U4E.lean.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.20/dist/katex.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,700;0,900;1,300;1,700&amp;display=swap">
    <link rel="icon" href="/logo.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-73f8b477><!--[--><!--]--><!--[--><span tabindex="-1" data-v-61951b4c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-61951b4c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-73f8b477 data-v-aa4f0da6><div class="VPNavBar" data-v-aa4f0da6 data-v-02dc0b56><div class="wrapper" data-v-02dc0b56><div class="container" data-v-02dc0b56><div class="title" data-v-02dc0b56><div class="VPNavBarTitle has-sidebar" data-v-02dc0b56 data-v-dc0c25a8><a class="title" href="/" data-v-dc0c25a8><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-48f77d65><!--]--><span data-v-dc0c25a8>Aya Prover</span><!--[--><!--]--></a></div></div><div class="content" data-v-02dc0b56><div class="content-body" data-v-02dc0b56><!--[--><!--]--><div class="VPNavBarSearch search" data-v-02dc0b56><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-02dc0b56 data-v-c2386e7e><span id="main-nav-aria-label" class="visually-hidden" data-v-c2386e7e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/" tabindex="0" data-v-c2386e7e data-v-bb3e7266><!--[--><span data-v-bb3e7266>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pubs/" tabindex="0" data-v-c2386e7e data-v-bb3e7266><!--[--><span data-v-bb3e7266>Publications</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/" tabindex="0" data-v-c2386e7e data-v-bb3e7266><!--[--><span data-v-bb3e7266>Blog</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-02dc0b56 data-v-35275505><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-35275505 data-v-3fde37d2 data-v-a118f0a1><span class="check" data-v-a118f0a1><span class="icon" data-v-a118f0a1><!--[--><span class="vpi-sun sun" data-v-3fde37d2></span><span class="vpi-moon moon" data-v-3fde37d2></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-02dc0b56 data-v-833c2968 data-v-e5420ae9><!--[--><a class="VPSocialLink no-icon" href="https://github.com/aya-prover" aria-label="github" target="_blank" rel="noopener" data-v-e5420ae9 data-v-41781b53><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-02dc0b56 data-v-03c933f9 data-v-06cf88d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-06cf88d3><span class="vpi-more-horizontal icon" data-v-06cf88d3></span></button><div class="menu" data-v-06cf88d3><div class="VPMenu" data-v-06cf88d3 data-v-cfe561be><!----><!--[--><!--[--><!----><div class="group" data-v-03c933f9><div class="item appearance" data-v-03c933f9><p class="label" data-v-03c933f9>Appearance</p><div class="appearance-action" data-v-03c933f9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-03c933f9 data-v-3fde37d2 data-v-a118f0a1><span class="check" data-v-a118f0a1><span class="icon" data-v-a118f0a1><!--[--><span class="vpi-sun sun" data-v-3fde37d2></span><span class="vpi-moon moon" data-v-3fde37d2></span><!--]--></span></span></button></div></div></div><div class="group" data-v-03c933f9><div class="item social-links" data-v-03c933f9><div class="VPSocialLinks social-links-list" data-v-03c933f9 data-v-e5420ae9><!--[--><a class="VPSocialLink no-icon" href="https://github.com/aya-prover" aria-label="github" target="_blank" rel="noopener" data-v-e5420ae9 data-v-41781b53><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-02dc0b56 data-v-84c2b7b6><span class="container" data-v-84c2b7b6><span class="top" data-v-84c2b7b6></span><span class="middle" data-v-84c2b7b6></span><span class="bottom" data-v-84c2b7b6></span></span></button></div></div></div></div><div class="divider" data-v-02dc0b56><div class="divider-line" data-v-02dc0b56></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-73f8b477 data-v-21bab63d><div class="container" data-v-21bab63d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-21bab63d><span class="vpi-align-left menu-icon" data-v-21bab63d></span><span class="menu-text" data-v-21bab63d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-21bab63d data-v-25b045a1><button data-v-25b045a1>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-73f8b477 data-v-9e61815d><div class="curtain" data-v-9e61815d></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-9e61815d><span class="visually-hidden" id="sidebar-aria-label" data-v-9e61815d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-da4abe85><section class="VPSidebarItem level-0 has-active" data-v-da4abe85 data-v-740295d9><div class="item" role="button" tabindex="0" data-v-740295d9><div class="indicator" data-v-740295d9></div><h2 class="text" data-v-740295d9>Blog</h2><!----></div><div class="items" data-v-740295d9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/jit-compile.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>JVM JIT HOAS compiler</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/tt-in-tt-qiit.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>TT in TT using QIIT</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/extended-pruning.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Extended Pruning</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/bye-hott.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Farewell, Univalence</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/ind-prop.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Impredicative Props</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/class-defeq.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Def. projection in classes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/pathcon-elab.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Path cons. elaboration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/path-elab.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Path type elaboration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/binops.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Binary operators</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/index-unification.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Index unification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/lang-exts.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Language extensions?</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-da4abe85><section class="VPSidebarItem level-0" data-v-da4abe85 data-v-740295d9><div class="item" role="button" tabindex="0" data-v-740295d9><div class="indicator" data-v-740295d9></div><h2 class="text" data-v-740295d9>Guide</h2><!----></div><div class="items" data-v-740295d9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Get Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/install.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Install</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/haskeller-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Functional Programming</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/prover-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Theorem Proving</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/project-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Aya packages</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/vscode-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>VSCode</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/readings.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Related papers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/fake-literate.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Fake literate mode</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-73f8b477 data-v-8a5e8f89><div class="VPDoc has-sidebar has-aside" data-v-8a5e8f89 data-v-f904a75d><!--[--><!--]--><div class="container" data-v-f904a75d><div class="aside" data-v-f904a75d><div class="aside-curtain" data-v-f904a75d></div><div class="aside-container" data-v-f904a75d><div class="aside-content" data-v-f904a75d><div class="VPDocAside" data-v-f904a75d data-v-53b58994><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-53b58994 data-v-927ab180><div class="content" data-v-927ab180><div class="outline-marker" data-v-927ab180></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-927ab180>On this page</div><ul class="VPDocOutlineItem root" data-v-927ab180 data-v-82cfa107><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-53b58994></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f904a75d><div class="content-container" data-v-f904a75d><!--[--><!--]--><main class="main" data-v-f904a75d><div style="position:relative;" class="vp-doc _blog_jit-compile" data-v-f904a75d><div><h1 id="jjh-jvm-jit-hoas-compilation-for-aya" tabindex="-1">JJH (JVM JIT HOAS) compilation for Aya <a class="header-anchor" href="#jjh-jvm-jit-hoas-compilation-for-aya" aria-label="Permalink to &quot;JJH \(JVM JIT HOAS\) compilation for Aya&quot;">​</a></h1><p>Update 2025-02-12: I gave a <a href="https://www.youtube.com/watch?v=lvwygACgJFk&amp;t" target="_blank" rel="noreferrer">PLunch talk</a> about this.</p><p>In this post I&#39;d like to introduce the <em>JJH</em> compilation architecture of the new Aya type checker, which is based on the JIT (Just-In-Time) compilation on the Java VM for closures implemented using HOAS (Higher-Order Abstract Syntax). I&#39;ll explain.</p><h2 id="pros-and-cons-of-hoas" tabindex="-1">Pros and Cons of HOAS <a class="header-anchor" href="#pros-and-cons-of-hoas" aria-label="Permalink to &quot;Pros and Cons of HOAS&quot;">​</a></h2><p>When implementing an interpreter, we have a meta-level language that we use to write the interpreter itself, and the object level language which we interpret. In case of higher-order languages, the object level language will have lambda expressions, and the representation of closures in the meta level language will be very important for the performance of the interpreter. To implement closures, we need to represent binders and variable references, and implement a substitution operation.</p><p>This is a relatively well-known and well-studied problem, and there are <a href="https://jesper.sikanda.be/posts/1001-syntax-representations.html" target="_blank" rel="noreferrer">several ways</a> (allow me to delegate the introduction of this subject to Jesper&#39;s blog) to implement it. In the context of Aya we are interested in the locally nameless (LN) representation and HOAS, and I&#39;ll assume brief familiarity with these concepts.</p><p>Consider STLC, the syntax can be defined as the following type, assuming an appropriate type <code class="Aya"><a href="#Mian-UID"><span class="Data">UID</span></a></code>:</p><pre class="Aya"><code><span class="Keyword">inductive</span> <a id="Mian-TermV1" class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV1"><span class="Data">TermV1</span></a> : <span class="Keyword">Type</span>
| <a id="Mian-TermV1-bound" class="aya-hover" aya-hover-text="TermV1" href="#Mian-TermV1-bound"><span class="Constructor">bound</span></a> (<a id="v1530446316" class="aya-hover" aya-hover-text="Nat" href="#v1530446316"><span class="LocalVar">deBruijnIndex</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>)
| <a id="Mian-TermV1-free" class="aya-hover" aya-hover-text="TermV1" href="#Mian-TermV1-free"><span class="Constructor">free</span></a> (<a id="v865059288" class="aya-hover" aya-hover-text="UID" href="#v865059288"><span class="LocalVar">name</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-UID"><span class="Data">UID</span></a>)
| <a id="Mian-TermV1-lam" class="aya-hover" aya-hover-text="TermV1" href="#Mian-TermV1-lam"><span class="Constructor">lam</span></a> (<a id="v1193471756" class="aya-hover" aya-hover-text="TermV1" href="#v1193471756"><span class="LocalVar">body</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV1"><span class="Data">TermV1</span></a>)
| <a id="Mian-TermV1-app" class="aya-hover" aya-hover-text="TermV1" href="#Mian-TermV1-app"><span class="Constructor">app</span></a> (<a id="v1222768327" class="aya-hover" aya-hover-text="TermV1" href="#v1222768327"><span class="LocalVar">fun</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV1"><span class="Data">TermV1</span></a>) (<a id="v1439394198" class="aya-hover" aya-hover-text="TermV1" href="#v1439394198"><span class="LocalVar">arg</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV1"><span class="Data">TermV1</span></a>)</code>
</pre><p>The important constructor to consider here is <code class="Aya"><a href="#Mian-TermV1-lam"><span class="Constructor">lam</span></a></code>, whose body will allow the use of bound variables. If a term is completely outside a <code class="Aya"><a href="#Mian-TermV1-lam"><span class="Constructor">lam</span></a></code>, it will make no sense. The substitution operation is only performed on bodies of lambdas, by replacing a De Bruijn index with a term. It might make sense to use types to enforce that:</p><pre class="Aya"><code><span class="Keyword">inductive</span> <a id="Mian-ClosureV2" class="aya-hover" aya-hover-text="Type 0" href="#Mian-ClosureV2"><span class="Data">ClosureV2</span></a> : <span class="Keyword">Type</span>
| <a id="Mian-ClosureV2-mkClosure" class="aya-hover" aya-hover-text="ClosureV2" href="#Mian-ClosureV2-mkClosure"><span class="Constructor">mkClosure</span></a> (<a id="v1208825205" class="aya-hover" aya-hover-text="TermV2" href="#v1208825205"><span class="LocalVar">body</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV2"><span class="Data">TermV2</span></a>)

<span class="Keyword">inductive</span> <a id="Mian-TermV2" class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV2"><span class="Data">TermV2</span></a> : <span class="Keyword">Type</span>
| <a id="Mian-TermV2-bound" class="aya-hover" aya-hover-text="TermV2" href="#Mian-TermV2-bound"><span class="Constructor">bound</span></a> (<a id="v253601149" class="aya-hover" aya-hover-text="Nat" href="#v253601149"><span class="LocalVar">deBruijnIndex</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>)
| <a id="Mian-TermV2-free" class="aya-hover" aya-hover-text="TermV2" href="#Mian-TermV2-free"><span class="Constructor">free</span></a> (<a id="v26540753" class="aya-hover" aya-hover-text="UID" href="#v26540753"><span class="LocalVar">name</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-UID"><span class="Data">UID</span></a>)
| <a id="Mian-TermV2-lam" class="aya-hover" aya-hover-text="TermV2" href="#Mian-TermV2-lam"><span class="Constructor">lam</span></a> (<a id="v648786246" class="aya-hover" aya-hover-text="ClosureV2" href="#v648786246"><span class="LocalVar">body</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-ClosureV2"><span class="Data">ClosureV2</span></a>)
| <a id="Mian-TermV2-app" class="aya-hover" aya-hover-text="TermV2" href="#Mian-TermV2-app"><span class="Constructor">app</span></a> (<a id="v120360571" class="aya-hover" aya-hover-text="TermV2" href="#v120360571"><span class="LocalVar">fun</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV2"><span class="Data">TermV2</span></a>) (<a id="v1710814638" class="aya-hover" aya-hover-text="TermV2" href="#v1710814638"><span class="LocalVar">arg</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV2"><span class="Data">TermV2</span></a>)

<span class="Keyword">def</span> <a id="Mian-applyV2" class="aya-hover" aya-hover-text="TermV2" href="#Mian-applyV2"><span class="Fn">applyV2</span></a> (<a id="v1125964210" class="aya-hover" aya-hover-text="ClosureV2" href="#v1125964210"><span class="LocalVar">t</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-ClosureV2"><span class="Data">ClosureV2</span></a>) (<a id="v944140566" class="aya-hover" aya-hover-text="TermV2" href="#v944140566"><span class="LocalVar">s</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV2"><span class="Data">TermV2</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV2"><span class="Data">TermV2</span></a> ⇒ <span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+R29hbDogR29hbCBvZiB0eXBlCiAgICAgICAgPGEgaHJlZj0iI01pYW4tVGVybVYyIj48c3BhbiBjbGFzcz0iRGF0YSI+VGVybVYyPC9zcGFuPjwvYT4KICAgICAgICAoTm9ybWFsaXplZDogPGEgaHJlZj0iI01pYW4tVGVybVYyIj48c3BhbiBjbGFzcz0iRGF0YSI+VGVybVYyPC9zcGFuPjwvYT4pCiAgICAgIENvbnRleHQ6CiAgICAgICAgPGEgaHJlZj0iI3YxMTI1OTY0MjEwIj48c3BhbiBjbGFzcz0iTG9jYWxWYXIiPnQ8L3NwYW4+PC9hPiA6IDxhIGhyZWY9IiNNaWFuLUNsb3N1cmVWMiI+PHNwYW4gY2xhc3M9IkRhdGEiPkNsb3N1cmVWMjwvc3Bhbj48L2E+CiAgICAgICAgPGEgaHJlZj0iI3Y5NDQxNDA1NjYiPjxzcGFuIGNsYXNzPSJMb2NhbFZhciI+czwvc3Bhbj48L2E+IDogPGEgaHJlZj0iI01pYW4tVGVybVYyIj48c3BhbiBjbGFzcz0iRGF0YSI+VGVybVYyPC9zcGFuPjwvYT48L2NvZGU+CjwvcHJlPgo="><span class="Goal"><span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+PHNwYW4gY2xhc3M9IkNhbGwiPj88YSBocmVmPSIjdjEwNzIzNzczMDYiPl84PC9hPiA8YSBocmVmPSIjdjExMjU5NjQyMTAiPjxzcGFuIGNsYXNzPSJMb2NhbFZhciI+dDwvc3Bhbj48L2E+IDxhIGhyZWY9IiN2OTQ0MTQwNTY2Ij48c3BhbiBjbGFzcz0iTG9jYWxWYXIiPnM8L3NwYW4+PC9hPjwvc3Bhbj48L2NvZGU+CjwvcHJlPgo=">{??}</span></span></span></code>
</pre><p>By designing the term structure like this, it is clear that which terms are meant to be applied. In the implementation of <code class="Aya"><a href="#Mian-applyV2"><span class="Fn">applyV2</span></a></code>, we traverse <code>t</code> and build a new term based on <code>t</code>.</p><p>HOAS implements closures and substitution differently, which instead of traversing and replacing <code class="Aya"><a href="#Mian-TermV2-bound"><span class="Constructor">bound</span></a></code> with a term, it constructs terms directly by using a function in the meta-level language (the definition below is accepted because Aya doesn&#39;t yet have a positivity checker):</p><pre class="Aya"><code><span class="Keyword">inductive</span> <a id="Mian-ClosureV3" class="aya-hover" aya-hover-text="Type 0" href="#Mian-ClosureV3"><span class="Data">ClosureV3</span></a> : <span class="Keyword">Type</span>
| <a id="Mian-ClosureV3-mkClosure" class="aya-hover" aya-hover-text="ClosureV3" href="#Mian-ClosureV3-mkClosure"><span class="Constructor">mkClosure</span></a> (<a id="v1795816257" class="aya-hover" aya-hover-text="TermV3 → TermV3" href="#v1795816257"><span class="LocalVar">body</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV3"><span class="Data">TermV3</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV3"><span class="Data">TermV3</span></a>)

<span class="Keyword">inductive</span> <a id="Mian-TermV3" class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV3"><span class="Data">TermV3</span></a> : <span class="Keyword">Type</span>
| <a id="Mian-TermV3-free" class="aya-hover" aya-hover-text="TermV3" href="#Mian-TermV3-free"><span class="Constructor">free</span></a> (<a id="v1649320501" class="aya-hover" aya-hover-text="UID" href="#v1649320501"><span class="LocalVar">name</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-UID"><span class="Data">UID</span></a>)
| <a id="Mian-TermV3-lam" class="aya-hover" aya-hover-text="TermV3" href="#Mian-TermV3-lam"><span class="Constructor">lam</span></a> (<a id="v959629210" class="aya-hover" aya-hover-text="ClosureV3" href="#v959629210"><span class="LocalVar">body</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-ClosureV3"><span class="Data">ClosureV3</span></a>)
| <a id="Mian-TermV3-app" class="aya-hover" aya-hover-text="TermV3" href="#Mian-TermV3-app"><span class="Constructor">app</span></a> (<a id="v125994398" class="aya-hover" aya-hover-text="TermV3" href="#v125994398"><span class="LocalVar">fun</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV3"><span class="Data">TermV3</span></a>) (<a id="v603305436" class="aya-hover" aya-hover-text="TermV3" href="#v603305436"><span class="LocalVar">arg</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV3"><span class="Data">TermV3</span></a>)</code>
</pre><p>Intuitively, HOAS requires no term traversal to produce the result of substitution, so it must be a lot faster. In reality, this is true, but only if these meta-level functions are known at the compile time of the interpreter -- an assumption that is usually false. In practice, we parse the AST from a string, resolve the names in it, desugar it, and then type check it before producing a term that can be interpreted. This means we do not know the body of the closure at the compile time. Also, the terms during type checking are <em>mutable</em>:</p><ol><li><p>We have <i>local type inference</i> (also known as <i>solving metavariables</i>), which involves in creating unknown terms and replace them with known terms later. This means we also need to <i>traverse</i> and <i>mutate</i> the terms, which is unrealistic for HOAS (this can be done in a very slow way).</p></li><li><p>We support type checking <i>recursive</i> functions. When checking the body of a recursive function, the recursive calls cannot be unfolded because the body is not yet constructed, and before termination check we cannot really know if unfolding such definitions is a good idea. But once the type checking finishes, these self-references will become unfoldable. So, at least something needs to be modified -- either the terms or the evaluation context.</p></li></ol><p>Some may argue that one can mutate HOAS by implementing a function like this:</p><pre class="Aya"><code><span class="Keyword">def</span> transformTerm : Term → Term

<span class="Keyword">def</span> transformClosure : Closure → Closure
| mkClosure body ⇒ mkClosure (<span class="Keyword">\</span>t →
   transformTerm (body t))
<span class="Comment">// ^ body :: Term -&gt; Term</span></code>
</pre><p>This is a very bad idea, because it will run <code>transformTerm</code> every time the closure is applied, while for locally nameless approach, the transformation is done only once. This is caused by the fact that the meta-level language does not have computation under binders, so <code>transformTerm (body t)</code> does not compute for <code>body</code>. If the meta-level language has some symbolic computation abilities, then this approach is slightly more reasonable, but in practice a meta-level language with such abilities is not as efficient.</p><p>We want the benefits of both methods. To do so, Aya introduces a <em>hybrid</em> approach.</p><h2 id="combining-hoas-and-locally-nameless" tabindex="-1">Combining HOAS and Locally Nameless <a class="header-anchor" href="#combining-hoas-and-locally-nameless" aria-label="Permalink to &quot;Combining HOAS and Locally Nameless&quot;">​</a></h2><p>We introduce the closure to allow <em>two</em> representations of closures: one for HOAS, and one for any first-order syntax such as locally nameless. Then, we define substitution on both variants.</p><pre class="Aya"><code><span class="Keyword">open</span> <span class="Keyword">inductive</span> <a id="Mian-ClosureV4" class="aya-hover" aya-hover-text="Type 0" href="#Mian-ClosureV4"><span class="Data">ClosureV4</span></a> : <span class="Keyword">Type</span>
| <a id="Mian-ClosureV4-mkJit" class="aya-hover" aya-hover-text="ClosureV4" href="#Mian-ClosureV4-mkJit"><span class="Constructor">mkJit</span></a> (<a id="v136393487" class="aya-hover" aya-hover-text="TermV4 → TermV4" href="#v136393487"><span class="LocalVar">body</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a>)
| <a id="Mian-ClosureV4-mkLn" class="aya-hover" aya-hover-text="ClosureV4" href="#Mian-ClosureV4-mkLn"><span class="Constructor">mkLn</span></a> (<a id="v116669570" class="aya-hover" aya-hover-text="TermV4" href="#v116669570"><span class="LocalVar">body</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a>)

<span class="Comment">// The locally-nameless substitution,</span>
<span class="Comment">// replacing the outermost bound variable in `t` with `s`.</span>
<span class="Keyword">def</span> <a id="Mian-substV4" class="aya-hover" aya-hover-text="TermV4" href="#Mian-substV4"><span class="Fn">substV4</span></a> (<a id="v1572256205" class="aya-hover" aya-hover-text="TermV4" href="#v1572256205"><span class="LocalVar">t</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a>) (<a id="v554348863" class="aya-hover" aya-hover-text="TermV4" href="#v554348863"><span class="LocalVar">s</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a> ⇒ <span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+R29hbDogR29hbCBvZiB0eXBlCiAgICAgICAgPGEgaHJlZj0iI01pYW4tVGVybVY0Ij48c3BhbiBjbGFzcz0iRGF0YSI+VGVybVY0PC9zcGFuPjwvYT4KICAgICAgICAoTm9ybWFsaXplZDogPGEgaHJlZj0iI01pYW4tVGVybVY0Ij48c3BhbiBjbGFzcz0iRGF0YSI+VGVybVY0PC9zcGFuPjwvYT4pCiAgICAgIENvbnRleHQ6CiAgICAgICAgPGEgaHJlZj0iI3YxNTcyMjU2MjA1Ij48c3BhbiBjbGFzcz0iTG9jYWxWYXIiPnQ8L3NwYW4+PC9hPiA6IDxhIGhyZWY9IiNNaWFuLVRlcm1WNCI+PHNwYW4gY2xhc3M9IkRhdGEiPlRlcm1WNDwvc3Bhbj48L2E+CiAgICAgICAgPGEgaHJlZj0iI3Y1NTQzNDg4NjMiPjxzcGFuIGNsYXNzPSJMb2NhbFZhciI+czwvc3Bhbj48L2E+IDogPGEgaHJlZj0iI01pYW4tVGVybVY0Ij48c3BhbiBjbGFzcz0iRGF0YSI+VGVybVY0PC9zcGFuPjwvYT48L2NvZGU+CjwvcHJlPgo="><span class="Goal"><span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+PHNwYW4gY2xhc3M9IkNhbGwiPj88YSBocmVmPSIjdjU0ODU1NDU4NiI+XzI8L2E+IDxhIGhyZWY9IiN2MTU3MjI1NjIwNSI+PHNwYW4gY2xhc3M9IkxvY2FsVmFyIj50PC9zcGFuPjwvYT4gPGEgaHJlZj0iI3Y1NTQzNDg4NjMiPjxzcGFuIGNsYXNzPSJMb2NhbFZhciI+czwvc3Bhbj48L2E+PC9zcGFuPjwvY29kZT4KPC9wcmU+Cg==">{??}</span></span></span>

<span class="Comment">// `elim t` means we only intend to pattern match on `t`.</span>
<span class="Keyword">def</span> <a id="Mian-applyV4" class="aya-hover" aya-hover-text="TermV4" href="#Mian-applyV4"><span class="Fn">applyV4</span></a> (<a id="v1863702030" class="aya-hover" aya-hover-text="ClosureV4" href="#v1863702030"><span class="LocalVar">t</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-ClosureV4"><span class="Data">ClosureV4</span></a>) (<a id="v467796378" class="aya-hover" aya-hover-text="TermV4" href="#v467796378"><span class="LocalVar">s</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a> <span class="Keyword">elim</span> <a href="#v1863702030"><span class="LocalVar">t</span></a>
| <a class="aya-hover" aya-hover-text="ClosureV4" href="#Mian-ClosureV4-mkJit"><span class="Constructor">mkJit</span></a> <a id="v2017797638" class="aya-hover" aya-hover-text="TermV4 → TermV4" href="#v2017797638"><span class="LocalVar">body</span></a> ⇒ <a class="aya-hover" aya-hover-text="TermV4" href="#v2017797638"><span class="LocalVar">body</span></a> <a class="aya-hover" aya-hover-text="TermV4" href="#v467796378"><span class="LocalVar">s</span></a>
| <a class="aya-hover" aya-hover-text="ClosureV4" href="#Mian-ClosureV4-mkLn"><span class="Constructor">mkLn</span></a> <a id="v718571091" class="aya-hover" aya-hover-text="TermV4" href="#v718571091"><span class="LocalVar">body</span></a> ⇒ <a class="aya-hover" aya-hover-text="TermV4" href="#Mian-substV4"><span class="Fn">substV4</span></a> <a class="aya-hover" aya-hover-text="TermV4" href="#v718571091"><span class="LocalVar">body</span></a> <a class="aya-hover" aya-hover-text="TermV4" href="#v467796378"><span class="LocalVar">s</span></a></code>
</pre><p>During type checking, we use the locally nameless representation <code class="Aya"><a href="#Mian-ClosureV4-mkLn"><span class="Constructor">mkLn</span></a></code>, so we have the freedom to mutate them and transform as we wish. When type checking is done for a cluster of definitions, and the terms are finalized, we generate the meta-level code for the HOAS function bodies, and then we dynamically compile these functions and replace the implementation of closures with the compiled functions in the <code>mkJit</code> variant.</p><p>This process is very similar to JIT-compilation in the usual sense, but slightly different: since the terms are used for type checking, we have to preserve all the type information at runtime, and the JIT-compiled code should deal with open terms. These are not present in the traditional JIT compilation, but with HOAS it&#39;s very easy to do. The dynamic compilation is based on the class loading mechanism of the JVM, therefore we refer to this process as <em>JJH</em> (JVM JIT HOAS). All three components are essential to the approach!</p><p>To support locally nameless we have to also include <code class="Aya"><a href="#Mian-TermV4-bound"><span class="Constructor">bound</span></a></code>:</p><pre class="Aya"><code><span class="Keyword">inductive</span> <a id="Mian-TermV4" class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a> : <span class="Keyword">Type</span>
| <a id="Mian-TermV4-bound" class="aya-hover" aya-hover-text="TermV4" href="#Mian-TermV4-bound"><span class="Constructor">bound</span></a> (<a id="v570794077" class="aya-hover" aya-hover-text="Nat" href="#v570794077"><span class="LocalVar">deBruijnIndex</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>)
| <a id="Mian-TermV4-free" class="aya-hover" aya-hover-text="TermV4" href="#Mian-TermV4-free"><span class="Constructor">free</span></a> (<a id="v1928301845" class="aya-hover" aya-hover-text="UID" href="#v1928301845"><span class="LocalVar">name</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-UID"><span class="Data">UID</span></a>)
| <a id="Mian-TermV4-lam" class="aya-hover" aya-hover-text="TermV4" href="#Mian-TermV4-lam"><span class="Constructor">lam</span></a> (<a id="v1789452565" class="aya-hover" aya-hover-text="ClosureV4" href="#v1789452565"><span class="LocalVar">body</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-ClosureV4"><span class="Data">ClosureV4</span></a>)
| <a id="Mian-TermV4-app" class="aya-hover" aya-hover-text="TermV4" href="#Mian-TermV4-app"><span class="Constructor">app</span></a> (<a id="v1579280783" class="aya-hover" aya-hover-text="TermV4" href="#v1579280783"><span class="LocalVar">fun</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a>) (<a id="v1370074462" class="aya-hover" aya-hover-text="TermV4" href="#v1370074462"><span class="LocalVar">arg</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a>)</code>
</pre><p>In fact, we can extend it with more constructors with closures, and it is very clear how the binders work just by looking at the term structure:</p><pre class="Aya"><code>| <a id="Mian-TermV4-pi" class="aya-hover" aya-hover-text="TermV4" href="#Mian-TermV4-pi"><span class="Constructor">pi</span></a> (<a id="v1595938139" class="aya-hover" aya-hover-text="TermV4" href="#v1595938139"><span class="LocalVar">domain</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-TermV4"><span class="Data">TermV4</span></a>) (<a id="v1923999715" class="aya-hover" aya-hover-text="ClosureV4" href="#v1923999715"><span class="LocalVar">codomain</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-ClosureV4"><span class="Data">ClosureV4</span></a>)</code>
</pre><p>We will never forget to substitute the codomain of a pi type because otherwise there will be a type error in the meta-level language.</p><h2 id="related-work" tabindex="-1">Related Work <a class="header-anchor" href="#related-work" aria-label="Permalink to &quot;Related Work&quot;">​</a></h2><p>Coq has two tactics that seemingly do similar things: <code>vm_compute</code> and <code>native_compute</code>. The <code>vm_compute</code> tactic translates Coq terms to an abstract machine (not using HOAS), evaluate it and <em>read-back</em> the result to Coq terms (also not in HOAS), while <code>native_compute</code> produces machine code and do something similar, but using HOAS in the generated code. For the purpose of conversion checking, it is enough to just compare the results of the abstract machine, and reading back the result is not necessary.</p><p>The native code generation is known to be faster than the VM-based approaches, as described in the paper <em>Full Reduction at Full Throttle</em>, and the prior work on <code>vm_compute</code> is described in <em>A Compiled Implementation of Strong Reduction</em>. Both papers can be found in <a href="/guide/readings.html">related papers</a>.</p><p>Aya reuses JVM, a highly optimized VM with two JIT compilers that produce machine code, and has HOAS built-in to the core language, so there is no need of reading back -- the result of compilation is directly used in our core language rather than a separately defined language. This also makes it less error-prone because a bug in the compiled code is a bug in the core language, which is well-understood and well-tested. But then the correctness (mainly type safety) of the core language relies on the correctness of the JJH compiler, which we do not intend to formally verify, but we believe (with reasonable confidence due to the amount of testing) that it is correct.</p><p>Speaking of VM-based evaluation, Lean4 also has an evaluator based on a VM for interpreting code, and Agda also seems to have an abstract machine for reducing code. These two evaluators, together with <code>vm_compute</code>, are based on a VM written by the proof assistant developers, which may not be the most efficient VM, and apparently these VMs do not have a second JIT compiler that produces machine code.</p><p>JJH relies on the fact that the type checker is written in a VM-based language, but we can do the same thing in a native language by using the JIT compilation feature of LLVM or GCC. In the first <em>Workshop on Implementations of Type Systems</em> (WITS), I had the privilege to listen to an exciting talk on an ongoing work on Lean4 that JIT-compiles tactics to native code. They will have a similar advantage to JJH, but it only works on tactics rather than the whole language.</p><p>When I was at the workshop, I was very jealous of the Lean team to have the manpower and resource to do such a thing -- I have been dreaming to do it for a long time (inspired by the work by András Kovács and Minghao Liu on <code>mlang</code>). But look at what we&#39;ve done now! I am satisfied ♪(≧∀≦)ゞ.</p></div></div></main><footer class="VPDocFooter" data-v-f904a75d data-v-44ba7a43><!--[--><!--]--><div class="edit-info" data-v-44ba7a43><div class="edit-link" data-v-44ba7a43><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/aya-prover/aya-prover-docs/tree/main/src/blog/jit-compile.md" target="_blank" rel="noreferrer" data-v-44ba7a43><!--[--><span class="vpi-square-pen edit-link-icon" data-v-44ba7a43></span> Suggest changes to this page<!--]--></a></div><div class="last-updated" data-v-44ba7a43><p class="VPLastUpdated" data-v-44ba7a43 data-v-9123fd4e>Last updated: <time datetime="2025-02-13T21:04:08.000Z" data-v-9123fd4e></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-44ba7a43><span class="visually-hidden" id="doc-footer-aria-label" data-v-44ba7a43>Pager</span><div class="pager" data-v-44ba7a43><!----></div><div class="pager" data-v-44ba7a43><a class="VPLink link pager-link next" href="/blog/tt-in-tt-qiit.html" data-v-44ba7a43><!--[--><span class="desc" data-v-44ba7a43>Next page</span><span class="title" data-v-44ba7a43>TT in TT using QIIT</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_binops.md\":\"B-64ecLm\",\"blog_bye-hott.md\":\"Cp1sTWEd\",\"blog_class-defeq.md\":\"Bv6R6WA4\",\"blog_extended-pruning.md\":\"DGL9dNw9\",\"blog_ind-prop.md\":\"BBPt9b6w\",\"blog_index-unification.md\":\"CCWWlNRa\",\"blog_index.md\":\"D-bi3G-6\",\"blog_jit-compile.md\":\"C4HT5U4E\",\"blog_lang-exts.md\":\"C4B5Uj_-\",\"blog_path-elab.md\":\"DuF6Cr48\",\"blog_pathcon-elab.md\":\"JPB6WmI6\",\"blog_redirect.md\":\"DvLlcC7i\",\"blog_tt-in-tt-qiit.md\":\"Bf6d3Cju\",\"guide_fake-literate.md\":\"DMyxLxBs\",\"guide_haskeller-tutorial.md\":\"DmRqyxph\",\"guide_index.md\":\"Dmx_xq94\",\"guide_install.md\":\"DCFhT_8S\",\"guide_project-tutorial.md\":\"CWiygfSO\",\"guide_prover-tutorial.md\":\"BZ0FFQ3P\",\"guide_readings.md\":\"B1j0C01T\",\"guide_vscode-tutorial.md\":\"UHnlVvPv\",\"index.md\":\"CYS2N3nv\",\"pubs_index.md\":\"Bs5-jOQq\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Aya Prover\",\"description\":\"Website for the Aya theorem prover\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/aya-prover\"}],\"editLink\":{\"pattern\":\"https://github.com/aya-prover/aya-prover-docs/tree/main/src/:path\",\"text\":\"Suggest changes to this page\"},\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/\"},{\"text\":\"Publications\",\"link\":\"/pubs/\"},{\"text\":\"Blog\",\"link\":\"/blog/\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":[{\"text\":\"Blog\",\"items\":[{\"text\":\"JVM JIT HOAS compiler\",\"link\":\"/blog/jit-compile\"},{\"text\":\"TT in TT using QIIT\",\"link\":\"/blog/tt-in-tt-qiit\"},{\"text\":\"Extended Pruning\",\"link\":\"/blog/extended-pruning\"},{\"text\":\"Farewell, Univalence\",\"link\":\"/blog/bye-hott\"},{\"text\":\"Impredicative Props\",\"link\":\"/blog/ind-prop\"},{\"text\":\"Def. projection in classes\",\"link\":\"/blog/class-defeq\"},{\"text\":\"Path cons. elaboration\",\"link\":\"/blog/pathcon-elab\"},{\"text\":\"Path type elaboration\",\"link\":\"/blog/path-elab\"},{\"text\":\"Binary operators\",\"link\":\"/blog/binops\"},{\"text\":\"Index unification\",\"link\":\"/blog/index-unification\"},{\"text\":\"Language extensions?\",\"link\":\"/blog/lang-exts\"}]},{\"text\":\"Guide\",\"items\":[{\"text\":\"Get Started\",\"link\":\"/guide/\"},{\"text\":\"Install\",\"link\":\"/guide/install\"},{\"text\":\"Functional Programming\",\"link\":\"/guide/haskeller-tutorial\"},{\"text\":\"Theorem Proving\",\"link\":\"/guide/prover-tutorial\"},{\"text\":\"Aya packages\",\"link\":\"/guide/project-tutorial\"},{\"text\":\"VSCode\",\"link\":\"/guide/vscode-tutorial\"},{\"text\":\"Related papers\",\"link\":\"/guide/readings\"},{\"text\":\"Fake literate mode\",\"link\":\"/guide/fake-literate\"}]}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>