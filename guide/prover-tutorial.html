<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Proof assistants' user tutorial | Aya Prover</title>
    <meta name="description" content="Website for the Aya theorem prover">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.CRpG7vFT.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.HMtUnl-A.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BZtxTXf2.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BV7BAn2o.js">
    <link rel="modulepreload" href="/assets/guide_prover-tutorial.md.BZ0FFQ3P.lean.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.20/dist/katex.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,700;0,900;1,300;1,700&amp;display=swap">
    <link rel="icon" href="/logo.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-73f8b477><!--[--><!--]--><!--[--><span tabindex="-1" data-v-61951b4c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-61951b4c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-73f8b477 data-v-aa4f0da6><div class="VPNavBar" data-v-aa4f0da6 data-v-02dc0b56><div class="wrapper" data-v-02dc0b56><div class="container" data-v-02dc0b56><div class="title" data-v-02dc0b56><div class="VPNavBarTitle has-sidebar" data-v-02dc0b56 data-v-dc0c25a8><a class="title" href="/" data-v-dc0c25a8><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-48f77d65><!--]--><span data-v-dc0c25a8>Aya Prover</span><!--[--><!--]--></a></div></div><div class="content" data-v-02dc0b56><div class="content-body" data-v-02dc0b56><!--[--><!--]--><div class="VPNavBarSearch search" data-v-02dc0b56><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-02dc0b56 data-v-c2386e7e><span id="main-nav-aria-label" class="visually-hidden" data-v-c2386e7e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/" tabindex="0" data-v-c2386e7e data-v-bb3e7266><!--[--><span data-v-bb3e7266>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pubs/" tabindex="0" data-v-c2386e7e data-v-bb3e7266><!--[--><span data-v-bb3e7266>Publications</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/" tabindex="0" data-v-c2386e7e data-v-bb3e7266><!--[--><span data-v-bb3e7266>Blog</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-02dc0b56 data-v-35275505><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-35275505 data-v-3fde37d2 data-v-a118f0a1><span class="check" data-v-a118f0a1><span class="icon" data-v-a118f0a1><!--[--><span class="vpi-sun sun" data-v-3fde37d2></span><span class="vpi-moon moon" data-v-3fde37d2></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-02dc0b56 data-v-833c2968 data-v-e5420ae9><!--[--><a class="VPSocialLink no-icon" href="https://github.com/aya-prover" aria-label="github" target="_blank" rel="noopener" data-v-e5420ae9 data-v-41781b53><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-02dc0b56 data-v-03c933f9 data-v-06cf88d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-06cf88d3><span class="vpi-more-horizontal icon" data-v-06cf88d3></span></button><div class="menu" data-v-06cf88d3><div class="VPMenu" data-v-06cf88d3 data-v-cfe561be><!----><!--[--><!--[--><!----><div class="group" data-v-03c933f9><div class="item appearance" data-v-03c933f9><p class="label" data-v-03c933f9>Appearance</p><div class="appearance-action" data-v-03c933f9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-03c933f9 data-v-3fde37d2 data-v-a118f0a1><span class="check" data-v-a118f0a1><span class="icon" data-v-a118f0a1><!--[--><span class="vpi-sun sun" data-v-3fde37d2></span><span class="vpi-moon moon" data-v-3fde37d2></span><!--]--></span></span></button></div></div></div><div class="group" data-v-03c933f9><div class="item social-links" data-v-03c933f9><div class="VPSocialLinks social-links-list" data-v-03c933f9 data-v-e5420ae9><!--[--><a class="VPSocialLink no-icon" href="https://github.com/aya-prover" aria-label="github" target="_blank" rel="noopener" data-v-e5420ae9 data-v-41781b53><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-02dc0b56 data-v-84c2b7b6><span class="container" data-v-84c2b7b6><span class="top" data-v-84c2b7b6></span><span class="middle" data-v-84c2b7b6></span><span class="bottom" data-v-84c2b7b6></span></span></button></div></div></div></div><div class="divider" data-v-02dc0b56><div class="divider-line" data-v-02dc0b56></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-73f8b477 data-v-21bab63d><div class="container" data-v-21bab63d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-21bab63d><span class="vpi-align-left menu-icon" data-v-21bab63d></span><span class="menu-text" data-v-21bab63d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-21bab63d data-v-25b045a1><button data-v-25b045a1>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-73f8b477 data-v-9e61815d><div class="curtain" data-v-9e61815d></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-9e61815d><span class="visually-hidden" id="sidebar-aria-label" data-v-9e61815d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-da4abe85><section class="VPSidebarItem level-0" data-v-da4abe85 data-v-740295d9><div class="item" role="button" tabindex="0" data-v-740295d9><div class="indicator" data-v-740295d9></div><h2 class="text" data-v-740295d9>Blog</h2><!----></div><div class="items" data-v-740295d9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/jit-compile.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>JVM JIT HOAS compiler</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/tt-in-tt-qiit.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>TT in TT using QIIT</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/extended-pruning.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Extended Pruning</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/bye-hott.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Farewell, Univalence</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/ind-prop.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Impredicative Props</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/class-defeq.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Def. projection in classes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/pathcon-elab.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Path cons. elaboration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/path-elab.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Path type elaboration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/binops.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Binary operators</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/index-unification.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Index unification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/lang-exts.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Language extensions?</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-da4abe85><section class="VPSidebarItem level-0 has-active" data-v-da4abe85 data-v-740295d9><div class="item" role="button" tabindex="0" data-v-740295d9><div class="indicator" data-v-740295d9></div><h2 class="text" data-v-740295d9>Guide</h2><!----></div><div class="items" data-v-740295d9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Get Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/install.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Install</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/haskeller-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Functional Programming</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/prover-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Theorem Proving</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/project-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Aya packages</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/vscode-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>VSCode</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/readings.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Related papers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/fake-literate.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Fake literate mode</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-73f8b477 data-v-8a5e8f89><div class="VPDoc has-sidebar has-aside" data-v-8a5e8f89 data-v-f904a75d><!--[--><!--]--><div class="container" data-v-f904a75d><div class="aside" data-v-f904a75d><div class="aside-curtain" data-v-f904a75d></div><div class="aside-container" data-v-f904a75d><div class="aside-content" data-v-f904a75d><div class="VPDocAside" data-v-f904a75d data-v-53b58994><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-53b58994 data-v-927ab180><div class="content" data-v-927ab180><div class="outline-marker" data-v-927ab180></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-927ab180>On this page</div><ul class="VPDocOutlineItem root" data-v-927ab180 data-v-82cfa107><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-53b58994></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f904a75d><div class="content-container" data-v-f904a75d><!--[--><!--]--><main class="main" data-v-f904a75d><div style="position:relative;" class="vp-doc _guide_prover-tutorial" data-v-f904a75d><div><h1 id="proof-assistants-user-tutorial" tabindex="-1">Proof assistants&#39; user tutorial <a class="header-anchor" href="#proof-assistants-user-tutorial" aria-label="Permalink to &quot;Proof assistants&#39; user tutorial&quot;">​</a></h1><p>Great. I expect you to have basic experience with interactive theorem proving. This is another Aya tutorial for interactive theorem prover users. If you find a bug, open an issue on GitHub!</p><p>This tutorial will use some basic Aya syntax. I hope those are sufficiently intuitive, or you can look up <a href="./haskeller-tutorial.html">this tutorial</a>.</p><p>Here&#39;s a little prelude, which you do not need to understand now.</p><pre class="Aya"><code><span class="Keyword">prim</span> <a id="Mian-I" class="aya-hover" aya-hover-text="ISet" href="#Mian-I"><span class="Primitive">I</span></a>
<span class="Keyword">prim</span> <a id="Mian-coe" class="aya-hover" aya-hover-text="A r → A s" href="#Mian-coe"><span class="Primitive">coe</span></a> (<a id="v635371680" class="aya-hover" aya-hover-text="I" href="#v635371680"><span class="LocalVar">r</span></a> <a id="v1293226111" class="aya-hover" aya-hover-text="I" href="#v1293226111"><span class="LocalVar">s</span></a> : <a class="aya-hover" aya-hover-text="ISet" href="#Mian-I"><span class="Primitive">I</span></a>) (<a id="v441001942" class="aya-hover" aya-hover-text="I → Type 0" href="#v441001942"><span class="LocalVar">A</span></a> : <a class="aya-hover" aya-hover-text="ISet" href="#Mian-I"><span class="Primitive">I</span></a> → <span class="Keyword">Type</span>) : <a class="aya-hover" aya-hover-text="Type 0" href="#v441001942"><span class="LocalVar">A</span></a> <a class="aya-hover" aya-hover-text="I" href="#v635371680"><span class="LocalVar">r</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#v441001942"><span class="LocalVar">A</span></a> <a class="aya-hover" aya-hover-text="I" href="#v1293226111"><span class="LocalVar">s</span></a>
<span class="Keyword">prim</span> <a id="Mian-Path" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Path"><span class="Primitive">Path</span></a>
<span class="Keyword">variable</span> <a id="v445918232" href="#v445918232"><span class="Generalized">A</span></a> <a id="v1776374725" href="#v1776374725"><span class="Generalized">B</span></a> : <span class="Keyword">Type</span>
<span class="Keyword">def</span> <span class="Keyword">infix</span> <a id="Mian-3d" class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> (<a id="v479920916" class="aya-hover" aya-hover-text="A" href="#v479920916"><span class="LocalVar">a</span></a> <a id="v1161322357" class="aya-hover" aya-hover-text="A" href="#v1161322357"><span class="LocalVar">b</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Path"><span class="Primitive">Path</span></a> (<span class="Keyword">\</span><a id="v159475521" href="#v159475521"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) <a class="aya-hover" aya-hover-text="A" href="#v479920916"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1161322357"><span class="LocalVar">b</span></a>

<span class="Keyword">open</span> <span class="Keyword">inductive</span> <a id="Mian-Nat" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>
| <a id="Mian-Nat-zero" class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-zero"><span class="Constructor">zero</span></a>
| <a id="Mian-Nat-suc" class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a></code>
</pre><h2 id="function-extensionality" tabindex="-1">Function extensionality <a class="header-anchor" href="#function-extensionality" aria-label="Permalink to &quot;Function extensionality&quot;">​</a></h2><p>Consider the following code:</p><pre class="Aya"><code><span class="Keyword">open</span> <span class="Keyword">inductive</span> <a id="Mian-Bool" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Bool"><span class="Data">Bool</span></a> | <a id="Mian-Bool-true" class="aya-hover" aya-hover-text="Bool" href="#Mian-Bool-true"><span class="Constructor">true</span></a> | <a id="Mian-Bool-false" class="aya-hover" aya-hover-text="Bool" href="#Mian-Bool-false"><span class="Constructor">false</span></a>
<span class="Keyword">def</span> <a id="Mian-not" class="aya-hover" aya-hover-text="Bool" href="#Mian-not"><span class="Fn">not</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Bool"><span class="Data">Bool</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Bool"><span class="Data">Bool</span></a>
| <a class="aya-hover" aya-hover-text="Bool" href="#Mian-Bool-true"><span class="Constructor">true</span></a> ⇒ <a class="aya-hover" aya-hover-text="Bool" href="#Mian-Bool-false"><span class="Constructor">false</span></a>
| <a class="aya-hover" aya-hover-text="Bool" href="#Mian-Bool-false"><span class="Constructor">false</span></a> ⇒ <a class="aya-hover" aya-hover-text="Bool" href="#Mian-Bool-true"><span class="Constructor">true</span></a>

<span class="Keyword">def</span> <a id="Mian-id" class="aya-hover" aya-hover-text="Bool" href="#Mian-id"><span class="Fn">id</span></a> (<a id="v800735172" class="aya-hover" aya-hover-text="Bool" href="#v800735172"><span class="LocalVar">x</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Bool"><span class="Data">Bool</span></a>) ⇒ <a class="aya-hover" aya-hover-text="Bool" href="#v800735172"><span class="LocalVar">x</span></a>

<span class="Keyword">def</span> <a id="Mian-Goal" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Goal"><span class="Fn">Goal</span></a> ⇒ <a class="aya-hover" aya-hover-text="Bool → Bool" href="#Mian-id"><span class="Fn">id</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> (<span class="Keyword">fn</span> <a id="v176342513" href="#v176342513"><span class="LocalVar">x</span></a> ⇒ <a class="aya-hover" aya-hover-text="Bool" href="#Mian-not"><span class="Fn">not</span></a> (<a class="aya-hover" aya-hover-text="Bool" href="#Mian-not"><span class="Fn">not</span></a> <a class="aya-hover" aya-hover-text="Bool" href="#v176342513"><span class="LocalVar">x</span></a>))

<span class="Comment">// {??} is the syntax for typed holes in Aya:</span>
<span class="Keyword">def</span> <a id="Mian-question" class="aya-hover" aya-hover-text="Goal" href="#Mian-question"><span class="Fn">question</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Goal"><span class="Fn">Goal</span></a> ⇒ <span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+R29hbDogR29hbCBvZiB0eXBlCiAgICAgICAgPGEgaHJlZj0iI01pYW4tR29hbCI+PHNwYW4gY2xhc3M9IkZuIj5Hb2FsPC9zcGFuPjwvYT4KICAgICAgICAoTm9ybWFsaXplZDogKDxzcGFuIGNsYXNzPSJLZXl3b3JkIj5mbjwvc3Bhbj4gPGEgaWQ9InYxMDg4NDE3OTc1IiBocmVmPSIjdjEwODg0MTc5NzUiPnAwPC9hPiDih5IgPGEgaHJlZj0iI3YxMDg4NDE3OTc1Ij48c3BhbiBjbGFzcz0iTG9jYWxWYXIiPnAwPC9zcGFuPjwvYT4pID0gKDxzcGFuIGNsYXNzPSJLZXl3b3JkIj5mbjwvc3Bhbj4gPGEgaWQ9InYyMDM2Nzc1NTkxIiBocmVmPSIjdjIwMzY3NzU1OTEiPnAwPC9hPiDih5IgPHNwYW4gY2xhc3M9IkNhbGwiPjxhIGhyZWY9IiNNaWFuLW5vdCI+PHNwYW4gY2xhc3M9IkZuIj5ub3Q8L3NwYW4+PC9hPiA8c3BhbiBjbGFzcz0iQ2FsbCI+KDxhIGhyZWY9IiNNaWFuLW5vdCI+PHNwYW4gY2xhc3M9IkZuIj5ub3Q8L3NwYW4+PC9hPiA8YSBocmVmPSIjdjIwMzY3NzU1OTEiPjxzcGFuIGNsYXNzPSJMb2NhbFZhciI+cDA8L3NwYW4+PC9hPik8L3NwYW4+PC9zcGFuPikpCiAgICAgIENvbnRleHQ6PC9jb2RlPgo8L3ByZT4K"><span class="Goal"><span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+PzxhIGhyZWY9IiN2MTMwOTEyOTA1NSI+XzI8L2E+PC9jb2RlPgo8L3ByZT4K">{??}</span></span></span></code>
</pre><p>There is no way to prove it in Martin-Löf type theory or Calculus of Constructions, because by canonicity of these type theories, the normal form of <code class="Aya"><a href="#Mian-question"><span class="Fn">question</span></a></code> must be the constructor of its type, which is reflexivity, but the goal is not reflexive. However, you are very smart and realized you can instead show the following:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-Goal27" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Goal27"><span class="Fn">Goal&#39;</span></a> (<a id="v1129944640" class="aya-hover" aya-hover-text="Bool" href="#v1129944640"><span class="LocalVar">x</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Bool"><span class="Data">Bool</span></a>) ⇒ <a class="aya-hover" aya-hover-text="Bool" href="#Mian-id"><span class="Fn">id</span></a> <a class="aya-hover" aya-hover-text="Bool" href="#v1129944640"><span class="LocalVar">x</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="Bool" href="#Mian-not"><span class="Fn">not</span></a> (<a class="aya-hover" aya-hover-text="Bool" href="#Mian-not"><span class="Fn">not</span></a> <a class="aya-hover" aya-hover-text="Bool" href="#v1129944640"><span class="LocalVar">x</span></a>)</code>
</pre><p>This is pretty much the same theorem, and can be proved by case analysis on <code>x</code>!</p><p>Now, suppose we need to show a propositional equality between two records. This means we have to show they&#39;re memberwise equal. One record has a member <code class="Aya"><span class="Keyword">fn</span> <a id="v790094605" href="#v790094605">p0</a> ⇒ <span class="Call"><a href="#Mian-not"><span class="Fn">not</span></a> <span class="Call">(<a href="#Mian-not"><span class="Fn">not</span></a> <a href="#v790094605"><span class="LocalVar">p0</span></a>)</span></span></code>, and the other has <code class="Aya"><a href="#Mian-id"><span class="Fn">id</span></a></code>. This time, you cannot cheat by changing the goal type. You post the question on some mailing list and people are telling you that the alternative version of the theorem you have shown does not imply the original, unless &quot;function extensionality&quot; is a theorem in your type theory.</p><p>To have function extensionality as a theorem, you came across two distinct type theories: observational type theory and cubical type theory. Aya chose the latter.</p><h2 id="cubical" tabindex="-1">Cubical <a class="header-anchor" href="#cubical" aria-label="Permalink to &quot;Cubical&quot;">​</a></h2><p>Here&#39;s the proof of function extensionality in Aya:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-funExt" class="aya-hover" aya-hover-text="f = g" href="#Mian-funExt"><span class="Fn">funExt</span></a> (<a id="v1438988851" class="aya-hover" aya-hover-text="A → B" href="#v1438988851"><span class="LocalVar">f</span></a> <a id="v1404565079" class="aya-hover" aya-hover-text="A → B" href="#v1404565079"><span class="LocalVar">g</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#v1776374725"><span class="Generalized">B</span></a>) (<a id="v1800976873" class="aya-hover" aya-hover-text="Fn (B : A) → f B = g B" href="#v1800976873"><span class="LocalVar">p</span></a> : <span class="Keyword">∀</span> <a id="v1245065720" class="aya-hover" aya-hover-text="A" href="#v1245065720"><span class="LocalVar">a</span></a> → <a class="aya-hover" aya-hover-text="B" href="#v1438988851"><span class="LocalVar">f</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1245065720"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="B" href="#v1404565079"><span class="LocalVar">g</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1245065720"><span class="LocalVar">a</span></a>) : <a class="aya-hover" aya-hover-text="A → B" href="#v1438988851"><span class="LocalVar">f</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A → B" href="#v1404565079"><span class="LocalVar">g</span></a>
   ⇒ <span class="Keyword">fn</span> <a id="v659590237" href="#v659590237"><span class="LocalVar">i</span></a> <a id="v1869039062" href="#v1869039062"><span class="LocalVar">a</span></a> ⇒ <a class="aya-hover" aya-hover-text="B" href="#v1800976873"><span class="LocalVar">p</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1869039062"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="I" href="#v659590237"><span class="LocalVar">i</span></a></code>
</pre><p>Aya has a &quot;cubical&quot; equality type that is not inductively defined. An equality <code>a = b</code> for <code>a, b : A</code> is really just a function <code class="Aya"><span class="Primitive">I</span> → <a href="#v18179709"><span class="LocalVar">A</span></a></code> (as we can see from the proof construction, for <code>f = g</code> we prove it by a lambda abstraction) where:</p><ul><li><p><code class="Aya"><a href="#Mian-I"><span class="Primitive">I</span></a></code> is a special type that has two closed instances <code>0</code> and <code>1</code>, and we think of there being a propositional equality between <code>0</code> and <code>1</code>, and there is no pattern matching operation that distinguishes them. So, every function that maps out of <code class="Aya"><a href="#Mian-I"><span class="Primitive">I</span></a></code> must <i>preserve</i> this judgmental equality.</p></li><li><p>For <code>f : I -&gt; A</code>, the corresponding equality type is <code>f 0 = f 1</code>. Hypothetically, let <code>f</code> be the identity function, and we get a propositional equality between <code>0</code> and <code>1</code>, but for technical reasons we don&#39;t talk about equality between <code>0</code> and <code>1</code> directly.</p></li></ul><p>By this definition, we can &quot;prove&quot; reflexivity by creating a constant function:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-refl" class="aya-hover" aya-hover-text="a = a" href="#Mian-refl"><span class="Fn">refl</span></a> {<a id="v511832416" class="aya-hover" aya-hover-text="A" href="#v511832416"><span class="LocalVar">a</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>} : <a class="aya-hover" aya-hover-text="A" href="#v511832416"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v511832416"><span class="LocalVar">a</span></a> ⇒ <span class="Keyword">fn</span> <a id="v110651474" href="#v110651474"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#v511832416"><span class="LocalVar">a</span></a></code>
</pre><p>For <code>f = fn i =&gt; a</code>, we need to verify if <code>f 0</code> equals the left-hand side of the equality and <code>f 1</code> equals the right-hand side, which are both true.</p><p>And to show that <code>f = g</code>, it suffices to construct a function <code>q : I -&gt; (A -&gt; B)</code> such that <code>q 0 = f</code> and <code>q 1 = g</code>. This is true for the proof above:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  (fn i a =&gt; p a i) 0    β-reduce</span></span>
<span class="line"><span>= fn a =&gt; p a 0          p a : f a = g a</span></span>
<span class="line"><span>= fn a =&gt; f a            η-reduce</span></span>
<span class="line"><span>= f</span></span></code></pre></div><p>We may also prove the action-on-path theorem, commonly known as <code>cong</code>, but renamed to <code class="Aya"><a href="#Mian-pmap"><span class="Fn">pmap</span></a></code> to avoid a potential future naming clash:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-pmap" class="aya-hover" aya-hover-text="f a = f b" href="#Mian-pmap"><span class="Fn">pmap</span></a> (<a id="v731829978" class="aya-hover" aya-hover-text="A → B" href="#v731829978"><span class="LocalVar">f</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#v1776374725"><span class="Generalized">B</span></a>) {<a id="v1818339587" class="aya-hover" aya-hover-text="A" href="#v1818339587"><span class="LocalVar">a</span></a> <a id="v1703696921" class="aya-hover" aya-hover-text="A" href="#v1703696921"><span class="LocalVar">b</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>} (<a id="v1507118393" class="aya-hover" aya-hover-text="a = b" href="#v1507118393"><span class="LocalVar">p</span></a> : <a class="aya-hover" aya-hover-text="A" href="#v1818339587"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1703696921"><span class="LocalVar">b</span></a>) : <a class="aya-hover" aya-hover-text="B" href="#v731829978"><span class="LocalVar">f</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1818339587"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="B" href="#v731829978"><span class="LocalVar">f</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1703696921"><span class="LocalVar">b</span></a>
   ⇒ <span class="Keyword">fn</span> <a id="v1070044969" href="#v1070044969"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="B" href="#v731829978"><span class="LocalVar">f</span></a> (<a class="aya-hover" aya-hover-text="A" href="#v1507118393"><span class="LocalVar">p</span></a> <a class="aya-hover" aya-hover-text="I" href="#v1070044969"><span class="LocalVar">i</span></a>)</code>
</pre><p>Checking the above definition is left as an exercise.</p><p>However, we cannot yet define transitivity/symmetry of equality because we do not have the traditional elimination rule of the equality type -- the <code>J</code> rule. This will need some advanced proving techniques that are beyond the scope of this simple tutorial, so I&#39;ll skim them.</p><p>We may define the type-safe coercion using it, and this will help us prove the two lemmas about equality:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-cast" class="aya-hover" aya-hover-text="A → B" href="#Mian-cast"><span class="Fn">cast</span></a> (<a id="v2024240125" class="aya-hover" aya-hover-text="A = B" href="#v2024240125"><span class="LocalVar">p</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a> <span class="Keyword">↑</span> <a class="aya-hover" aya-hover-text="Type 1" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v1776374725"><span class="Generalized">B</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#v1776374725"><span class="Generalized">B</span></a> ⇒ <span class="Keyword">↑</span> <a class="aya-hover" aya-hover-text="A → B" href="#Mian-coe"><span class="Primitive">coe</span></a> 0 1 (<span class="Keyword">fn</span> <a id="v380274260" href="#v380274260"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#v2024240125"><span class="LocalVar">p</span></a> <a class="aya-hover" aya-hover-text="I" href="#v380274260"><span class="LocalVar">i</span></a>)</code>
</pre><p>Then, from <code>p : a = b</code> we construct the equivalence <code>(a = a) = (b = a)</code> and coerce along this equivalence:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-pinv" class="aya-hover" aya-hover-text="b = a" href="#Mian-pinv"><span class="Fn">pinv</span></a> {<a id="v1745043985" class="aya-hover" aya-hover-text="A" href="#v1745043985"><span class="LocalVar">a</span></a> <a id="v1333041165" class="aya-hover" aya-hover-text="A" href="#v1333041165"><span class="LocalVar">b</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>} (<a id="v1482246673" class="aya-hover" aya-hover-text="a = b" href="#v1482246673"><span class="LocalVar">p</span></a> : <a class="aya-hover" aya-hover-text="A" href="#v1745043985"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1333041165"><span class="LocalVar">b</span></a>) : <a class="aya-hover" aya-hover-text="A" href="#v1333041165"><span class="LocalVar">b</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1745043985"><span class="LocalVar">a</span></a> ⇒ <a class="aya-hover" aya-hover-text="b = a" href="#Mian-cast"><span class="Fn">cast</span></a> (<span class="Keyword">\</span><a id="v1760670079" href="#v1760670079"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#v1482246673"><span class="LocalVar">p</span></a> <a class="aya-hover" aya-hover-text="I" href="#v1760670079"><span class="LocalVar">i</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1745043985"><span class="LocalVar">a</span></a>) <a class="aya-hover" aya-hover-text="a = a" href="#Mian-refl"><span class="Fn">refl</span></a></code>
</pre><p>From <code>q : b = c</code> we construct the equivalence <code>(a = b) = (a = c)</code> and coerce along this equivalence:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-concat" class="aya-hover" aya-hover-text="a = c" href="#Mian-concat"><span class="Fn">concat</span></a> {<a id="v130764844" class="aya-hover" aya-hover-text="A" href="#v130764844"><span class="LocalVar">a</span></a> <a id="v660339123" class="aya-hover" aya-hover-text="A" href="#v660339123"><span class="LocalVar">b</span></a> <a id="v462039519" class="aya-hover" aya-hover-text="A" href="#v462039519"><span class="LocalVar">c</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>} (<a id="v313082880" class="aya-hover" aya-hover-text="a = b" href="#v313082880"><span class="LocalVar">p</span></a> : <a class="aya-hover" aya-hover-text="A" href="#v130764844"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v660339123"><span class="LocalVar">b</span></a>) (<a id="v541698497" class="aya-hover" aya-hover-text="b = c" href="#v541698497"><span class="LocalVar">q</span></a> : <a class="aya-hover" aya-hover-text="A" href="#v660339123"><span class="LocalVar">b</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v462039519"><span class="LocalVar">c</span></a>) : <a class="aya-hover" aya-hover-text="A" href="#v130764844"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v462039519"><span class="LocalVar">c</span></a> ⇒
  <a class="aya-hover" aya-hover-text="a = c" href="#Mian-cast"><span class="Fn">cast</span></a> (<span class="Keyword">\</span><a id="v1419064126" href="#v1419064126"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#v130764844"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v541698497"><span class="LocalVar">q</span></a> <a class="aya-hover" aya-hover-text="I" href="#v1419064126"><span class="LocalVar">i</span></a>) <a class="aya-hover" aya-hover-text="a = b" href="#v313082880"><span class="LocalVar">p</span></a></code>
</pre><p>Note that at this point you can already do a bunch of familiar proofs about some simple types such as natural numbers or sized vectors. These are left as exercises, and you are encouraged to try yourself if you are not very sure about how it feels to prove things in Aya.</p><h2 id="overlapping-and-order-independent-pattern-matching" tabindex="-1">Overlapping and Order-independent Pattern Matching <a class="header-anchor" href="#overlapping-and-order-independent-pattern-matching" aria-label="Permalink to &quot;Overlapping and Order-independent Pattern Matching&quot;">​</a></h2><p>Remember the <code>+-comm</code> proof that you need two lemmas? It is standard to define <code>+</code> in the following way:</p><pre class="Aya"><code><span class="Keyword">example</span> <span class="Keyword">def</span> <span class="Keyword">infix</span> <a id="Mian-3aNoExport-2b" class="aya-hover" aya-hover-text="Nat" href="#Mian-3aNoExport-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>
| 0, <a id="v1225568095" class="aya-hover" aya-hover-text="Nat" href="#v1225568095"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#v1225568095"><span class="LocalVar">n</span></a>
| <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a id="v1439632660" class="aya-hover" aya-hover-text="Nat" href="#v1439632660"><span class="LocalVar">m</span></a>, <a id="v62343880" class="aya-hover" aya-hover-text="Nat" href="#v62343880"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#v1439632660"><span class="LocalVar">m</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-3aNoExport-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v62343880"><span class="LocalVar">n</span></a>)</code>
</pre><p>And then you prove that <code>a + 0 = a</code> and <code>a + suc b = suc (a + b)</code>. It is tempting to have <code>| n, 0 =&gt; n</code> as a computation rule as well, but this is incompatible with the usual semantics of pattern matching, which is compiled to elimination principles during type checking. However, you <em>can</em> do that in Aya. You may also add the other lemma as well.</p><pre class="Aya"><code><span class="Keyword">overlap</span> <span class="Keyword">def</span> <span class="Keyword">infix</span> <a id="Mian-2b" class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>
| 0, <a id="v1719072416" class="aya-hover" aya-hover-text="Nat" href="#v1719072416"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#v1719072416"><span class="LocalVar">n</span></a>
| <a id="v2092801316" class="aya-hover" aya-hover-text="Nat" href="#v2092801316"><span class="LocalVar">n</span></a>, 0 ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#v2092801316"><span class="LocalVar">n</span></a>
| <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a id="v376635015" class="aya-hover" aya-hover-text="Nat" href="#v376635015"><span class="LocalVar">m</span></a>, <a id="v1344697180" class="aya-hover" aya-hover-text="Nat" href="#v1344697180"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#v376635015"><span class="LocalVar">m</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1344697180"><span class="LocalVar">n</span></a>)
| <a id="v28597262" class="aya-hover" aya-hover-text="Nat" href="#v28597262"><span class="LocalVar">m</span></a>, <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a id="v300983713" class="aya-hover" aya-hover-text="Nat" href="#v300983713"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#v28597262"><span class="LocalVar">m</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v300983713"><span class="LocalVar">n</span></a>)
<span class="Keyword">tighter</span> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a></code>
</pre><p>This makes all of them definitional equality. So, <code class="Aya"><a href="#Mian-2b-comm"><span class="Fn">+-comm</span></a></code> can be simplified to just one pattern matching:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-2b-comm" class="aya-hover" aya-hover-text="(a + b) = (b + a)" href="#Mian-2b-comm"><span class="Fn">+-comm</span></a> (<a id="v541285440" class="aya-hover" aya-hover-text="Nat" href="#v541285440"><span class="LocalVar">a</span></a> <a id="v1463355115" class="aya-hover" aya-hover-text="Nat" href="#v1463355115"><span class="LocalVar">b</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>) : <a class="aya-hover" aya-hover-text="Nat" href="#v541285440"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1463355115"><span class="LocalVar">b</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1463355115"><span class="LocalVar">b</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v541285440"><span class="LocalVar">a</span></a> <span class="Keyword">elim</span> <a href="#v541285440"><span class="LocalVar">a</span></a>
| 0 ⇒ <a class="aya-hover" aya-hover-text="b = b" href="#Mian-refl"><span class="Fn">refl</span></a>
| <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> _ ⇒ <a class="aya-hover" aya-hover-text="suc (_ + b) = suc (b + _)" href="#Mian-pmap"><span class="Fn">pmap</span></a> <a class="aya-hover" aya-hover-text="Nat → Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> (<a class="aya-hover" aya-hover-text="(_ + b) = (b + _)" href="#Mian-2b-comm"><span class="Fn">+-comm</span></a> <span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+PGEgaHJlZj0iI3YxMDYzNzM3NjYyIj48c3BhbiBjbGFzcz0iTG9jYWxWYXIiPl88L3NwYW4+PC9hPjwvY29kZT4KPC9wcmU+Cg==">_</span> <span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+PGEgaHJlZj0iI3Y0NDc3NjcxMjEiPjxzcGFuIGNsYXNzPSJMb2NhbFZhciI+Yjwvc3Bhbj48L2E+PC9jb2RlPgo8L3ByZT4K">_</span>)</code>
</pre><p>Note that we are using the <code>elim</code> keyword, which describes the variables that the function body is pattern matching on.</p><h2 id="heterogeneous-equality" tabindex="-1">Heterogeneous equality <a class="header-anchor" href="#heterogeneous-equality" aria-label="Permalink to &quot;Heterogeneous equality&quot;">​</a></h2><p>When working with indexed families, you may want to have heterogeneous equality to avoid having mysterious coercions. For example, consider the associativity of sized vector appends. We first need to define sized vectors and the append operation:</p><pre class="Aya"><code><span class="Keyword">variable</span> <a id="v990897274" href="#v990897274"><span class="Generalized">n</span></a> <a id="v539690370" href="#v539690370"><span class="Generalized">m</span></a> <a id="v1976804832" href="#v1976804832"><span class="Generalized">o</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>
<span class="Comment">// Definitions</span>
<span class="Keyword">open</span> <span class="Keyword">inductive</span> <a id="Mian-Vec" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> (<a id="v762809053" class="aya-hover" aya-hover-text="Nat" href="#v762809053"><span class="LocalVar">n</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>) (<a id="v1932536213" class="aya-hover" aya-hover-text="Type 0" href="#v1932536213"><span class="LocalVar">A</span></a> : <span class="Keyword">Type</span>)
| 0, <a id="v406375608" class="aya-hover" aya-hover-text="Type 0" href="#v406375608"><span class="LocalVar">A</span></a> ⇒ <a id="Mian-Vec-nil" class="aya-hover" aya-hover-text="Vec 0 A" href="#Mian-Vec-nil"><span class="Constructor">nil</span></a>
| <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a id="v157168588" class="aya-hover" aya-hover-text="Nat" href="#v157168588"><span class="LocalVar">n</span></a>, <a id="v945834881" class="aya-hover" aya-hover-text="Type 0" href="#v945834881"><span class="LocalVar">A</span></a> ⇒ <span class="Keyword">infixr</span> <a id="Mian-Vec-3a3c" class="aya-hover" aya-hover-text="Vec (suc n) A" href="#Mian-Vec-3a3c"><span class="Constructor">:&lt;</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v945834881"><span class="LocalVar">A</span></a> (<a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v157168588"><span class="LocalVar">n</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v945834881"><span class="LocalVar">A</span></a>)
<span class="Keyword">overlap</span> <span class="Keyword">def</span> <span class="Keyword">infixr</span> <a id="Mian-2b2b" class="aya-hover" aya-hover-text="Vec (n + m) A" href="#Mian-2b2b"><span class="Fn">++</span></a> (<a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v990897274"><span class="Generalized">n</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) (<a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v539690370"><span class="Generalized">m</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#v990897274"><span class="Generalized">n</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v539690370"><span class="Generalized">m</span></a>) <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>
| <a class="aya-hover" aya-hover-text="Vec 0 A" href="#Mian-Vec-nil"><span class="Constructor">nil</span></a>, <a id="v1364497552" class="aya-hover" aya-hover-text="Vec m A" href="#v1364497552"><span class="LocalVar">ys</span></a> ⇒ <a class="aya-hover" aya-hover-text="Vec m A" href="#v1364497552"><span class="LocalVar">ys</span></a>
| <a id="v916835004" class="aya-hover" aya-hover-text="Vec n A" href="#v916835004"><span class="LocalVar">ys</span></a>, <a class="aya-hover" aya-hover-text="Vec 0 A" href="#Mian-Vec-nil"><span class="Constructor">nil</span></a> ⇒ <a class="aya-hover" aya-hover-text="Vec n A" href="#v916835004"><span class="LocalVar">ys</span></a>
| <a id="v1112737073" class="aya-hover" aya-hover-text="A" href="#v1112737073"><span class="LocalVar">x</span></a> <a class="aya-hover" aya-hover-text="Vec (suc n) A" href="#Mian-Vec-3a3c"><span class="Constructor">:&lt;</span></a> <a id="v1513867245" class="aya-hover" aya-hover-text="Vec n A" href="#v1513867245"><span class="LocalVar">xs</span></a>, <a id="v404648734" class="aya-hover" aya-hover-text="Vec m A" href="#v404648734"><span class="LocalVar">ys</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#v1112737073"><span class="LocalVar">x</span></a> <a class="aya-hover" aya-hover-text="Vec (suc (?n A x xs ys n m)) (?A A x xs ys n m)" href="#Mian-Vec-3a3c"><span class="Constructor">:&lt;</span></a> <a class="aya-hover" aya-hover-text="Vec n A" href="#v1513867245"><span class="LocalVar">xs</span></a> <a class="aya-hover" aya-hover-text="Vec (?n A x xs ys n m + ?m A x xs ys n m) (?A A x xs ys n m)" href="#Mian-2b2b"><span class="Fn">++</span></a> <a class="aya-hover" aya-hover-text="Vec m A" href="#v404648734"><span class="LocalVar">ys</span></a>
<span class="Keyword">tighter</span> <a class="aya-hover" aya-hover-text="Vec (suc n) A" href="#Mian-Vec-3a3c"><span class="Constructor">:&lt;</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a></code>
</pre><p>It is tempting to use the below definition:</p><pre class="Aya"><code><span class="Keyword">overlap</span> <span class="Keyword">def</span> ++-assoc (xs : Vec n A) (ys : Vec m A) (zs : Vec o A)
  : (xs ++ ys) ++ zs = xs ++ (ys ++ zs) <span class="Keyword">elim</span> xs
| nil ⇒ refl
| x :&lt; xs ⇒ pmap (x :&lt;) (++-assoc xs ys zs)</code>
</pre><p>However, this definition is not well-typed:</p><ul><li><p><code>(xs ++ ys) ++ zs</code> is of type <code class="Aya"><span class="Call"><a href="#Mian-Vec"><span class="Data">Vec</span></a> ((<a href="#v1807623441"><span class="LocalVar">n</span></a> <a href="#Mian-2b"><span class="Fn">+</span></a> <a href="#v1231006815"><span class="LocalVar">m</span></a>) <a href="#Mian-2b"><span class="Fn">+</span></a> <a href="#v1979787155"><span class="LocalVar">o</span></a>) <a href="#v1666544295"><span class="LocalVar">A</span></a></span></code></p></li><li><p><code>xs ++ (ys ++ zs)</code> is of type <code class="Aya"><span class="Call"><a href="#Mian-Vec"><span class="Data">Vec</span></a> (<a href="#v2044282225"><span class="LocalVar">n</span></a> <a href="#Mian-2b"><span class="Fn">+</span></a> (<a href="#v1305486145"><span class="LocalVar">m</span></a> <a href="#Mian-2b"><span class="Fn">+</span></a> <a href="#v840083671"><span class="LocalVar">o</span></a>)) <a href="#v2048537720"><span class="LocalVar">A</span></a></span></code>.</p></li></ul><p>They are not the same! Fortunately, we can prove that they are propositionally equal. We need to show that natural number addition is associative, which is the key lemma of this propositional equality:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-2b-assoc" class="aya-hover" aya-hover-text="((a + b) + c) = (a + (b + c))" href="#Mian-2b-assoc"><span class="Fn">+-assoc</span></a> {<a id="v1181815135" class="aya-hover" aya-hover-text="Nat" href="#v1181815135"><span class="LocalVar">a</span></a> <a id="v919446210" class="aya-hover" aya-hover-text="Nat" href="#v919446210"><span class="LocalVar">b</span></a> <a id="v57241990" class="aya-hover" aya-hover-text="Nat" href="#v57241990"><span class="LocalVar">c</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>} : (<a class="aya-hover" aya-hover-text="Nat" href="#v1181815135"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v919446210"><span class="LocalVar">b</span></a>) <a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v57241990"><span class="LocalVar">c</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1181815135"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#v919446210"><span class="LocalVar">b</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b"><span class="Fn">+</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v57241990"><span class="LocalVar">c</span></a>) <span class="Keyword">elim</span> <a href="#v1181815135"><span class="LocalVar">a</span></a>
| 0 ⇒ <a class="aya-hover" aya-hover-text="(b + c) = (b + c)" href="#Mian-refl"><span class="Fn">refl</span></a>
| <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> _ ⇒ <a class="aya-hover" aya-hover-text="suc ((_ + b) + c) = suc (_ + (b + c))" href="#Mian-pmap"><span class="Fn">pmap</span></a> <a class="aya-hover" aya-hover-text="Nat → Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a class="aya-hover" aya-hover-text="((_ + b) + c) = (_ + (b + c))" href="#Mian-2b-assoc"><span class="Fn">+-assoc</span></a></code>
</pre><p>Now we can work on the proof of <code>++-assoc</code>. Here&#39;s a lame definition that is well-typed in pre-cubical type theory, and is also hard to prove -- we <code class="Aya"><a href="#Mian-cast"><span class="Fn">cast</span></a></code> one side of the equation to be other side. So instead of:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>xs ++ (ys ++ zs) = (xs ++ ys) ++ zs</span></span></code></pre></div><p>We show:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>f (xs ++ (ys ++ zs)) = (xs ++ ys) ++ zs</span></span></code></pre></div><p>Where <code>f</code> is a function that changes the type of the vector, implemented using <code class="Aya"><a href="#Mian-cast"><span class="Fn">cast</span></a></code>. The definition looks like this:</p><pre class="Aya"><code><span class="Keyword">example</span> <span class="Keyword">def</span> <a id="Mian-3aNoExport-2b2b-assoc-ty" class="aya-hover" aya-hover-text="Type 0" href="#Mian-3aNoExport-2b2b-assoc-ty"><span class="Fn">++-assoc-ty</span></a> (<a id="v322561962" class="aya-hover" aya-hover-text="Vec n A" href="#v322561962"><span class="LocalVar">xs</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v990897274"><span class="Generalized">n</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) (<a id="v532048323" class="aya-hover" aya-hover-text="Vec m A" href="#v532048323"><span class="LocalVar">ys</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v539690370"><span class="Generalized">m</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) (<a id="v1237740254" class="aya-hover" aya-hover-text="Vec o A" href="#v1237740254"><span class="LocalVar">zs</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1976804832"><span class="Generalized">o</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>)
  ⇒ <a class="aya-hover" aya-hover-text="Vec (n + (m + o)) A" href="#Mian-cast"><span class="Fn">cast</span></a> (<a class="aya-hover" aya-hover-text="Vec ((n + m) + o) A = Vec (n + (m + o)) A" href="#Mian-pmap"><span class="Fn">pmap</span></a> (<span class="Keyword">fn</span> <a id="v305502850" href="#v305502850"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v305502850"><span class="LocalVar">n</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) <a class="aya-hover" aya-hover-text="((n + m) + o) = (n + (m + o))" href="#Mian-2b-assoc"><span class="Fn">+-assoc</span></a>) ((<a class="aya-hover" aya-hover-text="Vec n A" href="#v322561962"><span class="LocalVar">xs</span></a> <a class="aya-hover" aya-hover-text="Vec (?n n A m o xs ys zs + ?m n A m o xs ys zs) (?A n A m o xs ys zs)" href="#Mian-2b2b"><span class="Fn">++</span></a> <a class="aya-hover" aya-hover-text="Vec m A" href="#v532048323"><span class="LocalVar">ys</span></a>) <a class="aya-hover" aya-hover-text="Vec ((n + m) + o) A" href="#Mian-2b2b"><span class="Fn">++</span></a> <a class="aya-hover" aya-hover-text="Vec o A" href="#v1237740254"><span class="LocalVar">zs</span></a>) <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="Vec n A" href="#v322561962"><span class="LocalVar">xs</span></a> <a class="aya-hover" aya-hover-text="Vec (?n n A m o xs ys zs + ?m n A m o xs ys zs) (?A n A m o xs ys zs)" href="#Mian-2b2b"><span class="Fn">++</span></a> (<a class="aya-hover" aya-hover-text="Vec m A" href="#v532048323"><span class="LocalVar">ys</span></a> <a class="aya-hover" aya-hover-text="Vec (?n n A m o xs ys zs + ?m n A m o xs ys zs) (?A n A m o xs ys zs)" href="#Mian-2b2b"><span class="Fn">++</span></a> <a class="aya-hover" aya-hover-text="Vec o A" href="#v1237740254"><span class="LocalVar">zs</span></a>)</code>
</pre><p>It is harder to prove because in the induction step, one need to show that <code class="Aya"><span class="Call"><a href="#Mian-cast"><span class="Fn">cast</span></a> <span class="Call">(<a href="#Mian-pmap"><span class="Fn">pmap</span></a> (<span class="Keyword">fn</span> <a id="v1909398279" href="#v1909398279">p0</a> ⇒ <span class="Call"><a href="#Mian-Vec"><span class="Data">Vec</span></a> <a href="#v1909398279"><span class="LocalVar">p0</span></a> <a href="#v1230701703"><span class="LocalVar">A</span></a></span>) <a href="#Mian-2b-assoc"><span class="Fn">+-assoc</span></a>)</span></span></code> is equivalent to the identity function in order to use the induction hypothesis. For the record, here&#39;s the proof:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-castRefl" class="aya-hover" aya-hover-text="cast refl a = a" href="#Mian-castRefl"><span class="Fn">castRefl</span></a> (<a id="v1533985074" class="aya-hover" aya-hover-text="A" href="#v1533985074"><span class="LocalVar">a</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) : <a class="aya-hover" aya-hover-text="A" href="#Mian-cast"><span class="Fn">cast</span></a> <span class="Keyword">↑</span> <a class="aya-hover" aya-hover-text="A = A" href="#Mian-refl"><span class="Fn">refl</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1533985074"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1533985074"><span class="LocalVar">a</span></a> ⇒ <span class="Keyword">fn</span> <a id="v1611370719" href="#v1611370719"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#Mian-coe"><span class="Primitive">coe</span></a> <a class="aya-hover" aya-hover-text="I" href="#v1611370719"><span class="LocalVar">i</span></a> 1 (<span class="Keyword">fn</span> <a id="v651100072" href="#v651100072"><span class="LocalVar">j</span></a> ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) <a class="aya-hover" aya-hover-text="A" href="#v1533985074"><span class="LocalVar">a</span></a></code>
</pre><p>But still, with this lemma it is still hard. Cubical provides a pleasant way of working with heterogeneous equality:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-Path27" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Path27"><span class="Fn">Path&#39;</span></a> (<a id="v1545827753" class="aya-hover" aya-hover-text="I → Type 0" href="#v1545827753"><span class="LocalVar">A</span></a> : <a class="aya-hover" aya-hover-text="ISet" href="#Mian-I"><span class="Primitive">I</span></a> → <span class="Keyword">Type</span>) (<a id="v1611832218" class="aya-hover" aya-hover-text="A 0" href="#v1611832218"><span class="LocalVar">a</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v1545827753"><span class="LocalVar">A</span></a> 0) (<a id="v2027317551" class="aya-hover" aya-hover-text="A 1" href="#v2027317551"><span class="LocalVar">b</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v1545827753"><span class="LocalVar">A</span></a> 1) ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Path"><span class="Primitive">Path</span></a> <a class="aya-hover" aya-hover-text="I → Type 0" href="#v1545827753"><span class="LocalVar">A</span></a> <a class="aya-hover" aya-hover-text="A 0" href="#v1611832218"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="A 1" href="#v2027317551"><span class="LocalVar">b</span></a></code>
</pre><p>So if we have <code>X : A = B</code> and <code>a : A</code>, <code>b : B</code>, then <code>Path (\i =&gt; X i) a b</code> expresses the heterogeneous equality between <code>a</code> and <code>b</code> nicely.</p><p>We may then use the following type signature:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-2b2b-assoc-type" class="aya-hover" aya-hover-text="Type 0" href="#Mian-2b2b-assoc-type"><span class="Fn">++-assoc-type</span></a> (<a id="v1733581655" class="aya-hover" aya-hover-text="Vec n A" href="#v1733581655"><span class="LocalVar">xs</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v990897274"><span class="Generalized">n</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) (<a id="v1814827909" class="aya-hover" aya-hover-text="Vec m A" href="#v1814827909"><span class="LocalVar">ys</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v539690370"><span class="Generalized">m</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) (<a id="v1597328335" class="aya-hover" aya-hover-text="Vec o A" href="#v1597328335"><span class="LocalVar">zs</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1976804832"><span class="Generalized">o</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>)
  ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Path"><span class="Primitive">Path</span></a> (<span class="Keyword">fn</span> <a id="v21422054" href="#v21422054"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#Mian-2b-assoc"><span class="Fn">+-assoc</span></a> <a class="aya-hover" aya-hover-text="I" href="#v21422054"><span class="LocalVar">i</span></a>) <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) ((<a class="aya-hover" aya-hover-text="Vec n A" href="#v1733581655"><span class="LocalVar">xs</span></a> <a class="aya-hover" aya-hover-text="Vec (?n n A m o xs ys zs + ?m n A m o xs ys zs) (?A n A m o xs ys zs)" href="#Mian-2b2b"><span class="Fn">++</span></a> <a class="aya-hover" aya-hover-text="Vec m A" href="#v1814827909"><span class="LocalVar">ys</span></a>) <a class="aya-hover" aya-hover-text="Vec ((n + m) + o) A" href="#Mian-2b2b"><span class="Fn">++</span></a> <a class="aya-hover" aya-hover-text="Vec o A" href="#v1597328335"><span class="LocalVar">zs</span></a>) (<a class="aya-hover" aya-hover-text="Vec n A" href="#v1733581655"><span class="LocalVar">xs</span></a> <a class="aya-hover" aya-hover-text="Vec (?n n A m o xs ys zs + ?m n A m o xs ys zs) (?A n A m o xs ys zs)" href="#Mian-2b2b"><span class="Fn">++</span></a> (<a class="aya-hover" aya-hover-text="Vec m A" href="#v1814827909"><span class="LocalVar">ys</span></a> <a class="aya-hover" aya-hover-text="Vec (?n n A m o xs ys zs + ?m n A m o xs ys zs) (?A n A m o xs ys zs)" href="#Mian-2b2b"><span class="Fn">++</span></a> <a class="aya-hover" aya-hover-text="Vec o A" href="#v1597328335"><span class="LocalVar">zs</span></a>))</code>
</pre><p>The proof is omitted (try yourself!).</p><h2 id="quotient-inductive-types" tabindex="-1">Quotient inductive types <a class="header-anchor" href="#quotient-inductive-types" aria-label="Permalink to &quot;Quotient inductive types&quot;">​</a></h2><p>Quotient types are types that equates their instances in a non-trivial way. In Aya, they are defined using the following syntax:</p><pre class="Aya"><code><span class="Keyword">open</span> <span class="Keyword">inductive</span> <a id="Mian-Interval" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Interval"><span class="Data">Interval</span></a>
| <a id="Mian-Interval-left" class="aya-hover" aya-hover-text="Interval" href="#Mian-Interval-left"><span class="Constructor">left</span></a>
| <a id="Mian-Interval-right" class="aya-hover" aya-hover-text="Interval" href="#Mian-Interval-right"><span class="Constructor">right</span></a>
| <a id="Mian-Interval-line" class="aya-hover" aya-hover-text="left = right" href="#Mian-Interval-line"><span class="Constructor">line</span></a> : <a class="aya-hover" aya-hover-text="Interval" href="#Mian-Interval-left"><span class="Constructor">left</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="Interval" href="#Mian-Interval-right"><span class="Constructor">right</span></a></code>
</pre><p>This is an uninteresting quotient type, that is basically <code class="Aya"><a href="#Mian-Bool"><span class="Data">Bool</span></a></code> but saying its two values are equal, so it&#39;s really just a unit type, with its unique element being the equivalence class of <code class="Aya"><a href="#Mian-Interval-left"><span class="Constructor">left</span></a></code> and <code class="Aya"><a href="#Mian-Interval-right"><span class="Constructor">right</span></a></code>.</p><p>If you&#39;re familiar with a proof assistant with an intensional equality like Coq/Agda/Lean/etc., you might find this surprising because a unit type shall not have two distinct elements, and an equality shall not be stated between two distinct constructors. How does this work in Aya?</p><p>Actually, in these systems, the equality is defined <em>inductively</em>, and it only has one constructor -- <code>refl</code>. This is not how equality is defined in Aya, so we can cook some interesting equality proofs into it, which includes these equality-looking constructors.</p><ol><li><p>The type of <code>line</code> will be translated into <code class="Aya"><span class="Primitive">I</span> → <a href="#Mian-Interval"><span class="Data">Interval</span></a></code> together with the judgmental equality that <code class="Aya"><span class="Call"><a href="#Mian-Interval-line"><span class="Constructor">line</span></a> <span class="Keyword">0</span></span></code> is <code class="Aya"><a href="#Mian-Interval-left"><span class="Constructor">left</span></a></code> and <code class="Aya"><span class="Call"><a href="#Mian-Interval-line"><span class="Constructor">line</span></a> <span class="Keyword">1</span></span></code> is <code class="Aya"><a href="#Mian-Interval-right"><span class="Constructor">right</span></a></code>, basically a desugaring of the equality with additional features. This makes <code>line</code> a valid constructor in normal type theory: it takes some parameters and returns <code class="Aya"><a href="#Mian-Interval"><span class="Data">Interval</span></a></code>.</p></li><li><p>These judgmental equalities need to be preserved by the elimination rule of <code class="Aya"><a href="#Mian-Interval"><span class="Data">Interval</span></a></code>. Here is an example elimination:</p></li></ol><pre class="Aya"><code><span class="Keyword">example</span> <span class="Keyword">def</span> <a id="Mian-3aNoExport-Interval-elim" class="aya-hover" aya-hover-text="A" href="#Mian-3aNoExport-Interval-elim"><span class="Fn">Interval-elim</span></a> {<a id="v172678484" class="aya-hover" aya-hover-text="A" href="#v172678484"><span class="LocalVar">a</span></a> <a id="v337533935" class="aya-hover" aya-hover-text="A" href="#v337533935"><span class="LocalVar">b</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>} {<a id="v985324122" class="aya-hover" aya-hover-text="a = b" href="#v985324122"><span class="LocalVar">p</span></a> : <a class="aya-hover" aya-hover-text="A" href="#v172678484"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A" href="#v337533935"><span class="LocalVar">b</span></a>} (<a id="v1724256292" class="aya-hover" aya-hover-text="Interval" href="#v1724256292"><span class="LocalVar">i</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Interval"><span class="Data">Interval</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a> <span class="Keyword">elim</span> <a href="#v1724256292"><span class="LocalVar">i</span></a>
| <a class="aya-hover" aya-hover-text="Interval" href="#Mian-Interval-left"><span class="Constructor">left</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#v172678484"><span class="LocalVar">a</span></a>
| <a class="aya-hover" aya-hover-text="Interval" href="#Mian-Interval-right"><span class="Constructor">right</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#v337533935"><span class="LocalVar">b</span></a>
| <a class="aya-hover" aya-hover-text="left = right" href="#Mian-Interval-line"><span class="Constructor">line</span></a> <a id="v1560702077" class="aya-hover" aya-hover-text="I" href="#v1560702077"><span class="LocalVar">j</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#v985324122"><span class="LocalVar">p</span></a> <a class="aya-hover" aya-hover-text="I" href="#v1560702077"><span class="LocalVar">j</span></a></code>
</pre><p>Note that the term <code>pmap Interval-elim line</code>, which reduces to <code>p</code>, has type <code>Interval-elim left = Interval-elim right</code>, so we need to check if <code>p 0</code> equals <code>Interval-elim left</code>, and <code>p 1</code> equals <code>Interval-elim right</code>. This is a <em>confluence check</em> that ensures the elimination is well-defined.</p><p>What&#39;s interesting about this type, is that its elimination implies function extensionality:</p><pre class="Aya"><code><span class="Keyword">private</span> <span class="Keyword">def</span> <a id="Mian-lemma" class="aya-hover" aya-hover-text="B" href="#Mian-lemma"><span class="Fn">lemma</span></a>
  (<a id="v1731977615" class="aya-hover" aya-hover-text="A → B" href="#v1731977615"><span class="LocalVar">f</span></a> <a id="v1703009290" class="aya-hover" aya-hover-text="A → B" href="#v1703009290"><span class="LocalVar">g</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#v1776374725"><span class="Generalized">B</span></a>) (<a id="v1072506992" class="aya-hover" aya-hover-text="Fn (B : A) → f B = g B" href="#v1072506992"><span class="LocalVar">p</span></a> : <span class="Keyword">∀</span> <a id="v1424482154" class="aya-hover" aya-hover-text="A" href="#v1424482154"><span class="LocalVar">x</span></a> → <a class="aya-hover" aya-hover-text="B" href="#v1731977615"><span class="LocalVar">f</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1424482154"><span class="LocalVar">x</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="B" href="#v1703009290"><span class="LocalVar">g</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1424482154"><span class="LocalVar">x</span></a>)
  (<a id="v1997702454" class="aya-hover" aya-hover-text="Interval" href="#v1997702454"><span class="LocalVar">i</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Interval"><span class="Data">Interval</span></a>) (<a id="v1479696465" class="aya-hover" aya-hover-text="A" href="#v1479696465"><span class="LocalVar">a</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#v1776374725"><span class="Generalized">B</span></a> <span class="Keyword">elim</span> <a href="#v1997702454"><span class="LocalVar">i</span></a>
| <a class="aya-hover" aya-hover-text="Interval" href="#Mian-Interval-left"><span class="Constructor">left</span></a> ⇒ <a class="aya-hover" aya-hover-text="B" href="#v1731977615"><span class="LocalVar">f</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1479696465"><span class="LocalVar">a</span></a>
| <a class="aya-hover" aya-hover-text="Interval" href="#Mian-Interval-right"><span class="Constructor">right</span></a> ⇒ <a class="aya-hover" aya-hover-text="B" href="#v1703009290"><span class="LocalVar">g</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1479696465"><span class="LocalVar">a</span></a>
| <a class="aya-hover" aya-hover-text="left = right" href="#Mian-Interval-line"><span class="Constructor">line</span></a> <a id="v124734309" class="aya-hover" aya-hover-text="I" href="#v124734309"><span class="LocalVar">j</span></a> ⇒ <a class="aya-hover" aya-hover-text="B" href="#v1072506992"><span class="LocalVar">p</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1479696465"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="I" href="#v124734309"><span class="LocalVar">j</span></a>

<span class="Keyword">example</span> <span class="Keyword">def</span> <a id="Mian-3aNoExport-funExt27" class="aya-hover" aya-hover-text="f = g" href="#Mian-3aNoExport-funExt27"><span class="Fn">funExt&#39;</span></a> (<a id="v93054696" class="aya-hover" aya-hover-text="A → B" href="#v93054696"><span class="LocalVar">f</span></a> <a id="v1932597611" class="aya-hover" aya-hover-text="A → B" href="#v1932597611"><span class="LocalVar">g</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v445918232"><span class="Generalized">A</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#v1776374725"><span class="Generalized">B</span></a>) (<a id="v735085430" class="aya-hover" aya-hover-text="Fn (B : A) → f B = g B" href="#v735085430"><span class="LocalVar">p</span></a> : <span class="Keyword">∀</span> <a id="v1355887174" class="aya-hover" aya-hover-text="A" href="#v1355887174"><span class="LocalVar">a</span></a> → <a class="aya-hover" aya-hover-text="B" href="#v93054696"><span class="LocalVar">f</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1355887174"><span class="LocalVar">a</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="B" href="#v1932597611"><span class="LocalVar">g</span></a> <a class="aya-hover" aya-hover-text="A" href="#v1355887174"><span class="LocalVar">a</span></a>) : <a class="aya-hover" aya-hover-text="A → B" href="#v93054696"><span class="LocalVar">f</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="A → B" href="#v1932597611"><span class="LocalVar">g</span></a> ⇒
  <a class="aya-hover" aya-hover-text="lemma f g p left = lemma f g p right" href="#Mian-pmap"><span class="Fn">pmap</span></a> (<a class="aya-hover" aya-hover-text="Interval → A → B" href="#Mian-lemma"><span class="Fn">lemma</span></a> <a class="aya-hover" aya-hover-text="A → B" href="#v93054696"><span class="LocalVar">f</span></a> <a class="aya-hover" aya-hover-text="A → B" href="#v1932597611"><span class="LocalVar">g</span></a> <a class="aya-hover" aya-hover-text="Fn (B : A) → f B = g B" href="#v735085430"><span class="LocalVar">p</span></a>) (<span class="Keyword">fn</span> <a id="v461698165" href="#v461698165"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="Interval" href="#Mian-Interval-line"><span class="Constructor">line</span></a> <a class="aya-hover" aya-hover-text="I" href="#v461698165"><span class="LocalVar">i</span></a>)</code>
</pre><p>Note that even though we are using equation combinators like <code class="Aya"><a href="#Mian-pmap"><span class="Fn">pmap</span></a></code> which are implemented using path application and abstraction, it is not considered cheating because these are already theorems in MLTT anyway.</p><p>We can define other interesting quotients such as a symmetric integer:</p><pre class="Aya"><code><span class="Keyword">open</span> <span class="Keyword">inductive</span> <a id="Mian-Int" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Int"><span class="Data">Int</span></a>
| <a id="Mian-Int-pos" class="aya-hover" aya-hover-text="Int" href="#Mian-Int-pos"><span class="Constructor">pos</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> | <a id="Mian-Int-neg" class="aya-hover" aya-hover-text="Int" href="#Mian-Int-neg"><span class="Constructor">neg</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>
| <a id="Mian-Int-zro" class="aya-hover" aya-hover-text="pos 0 = neg 0" href="#Mian-Int-zro"><span class="Constructor">zro</span></a> : <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-pos"><span class="Constructor">pos</span></a> 0 <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-3d"><span class="Fn">=</span></a> <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-neg"><span class="Constructor">neg</span></a> 0</code>
</pre><p>Some operations on <code class="Aya"><a href="#Mian-Int"><span class="Data">Int</span></a></code>:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-succ" class="aya-hover" aya-hover-text="Int" href="#Mian-succ"><span class="Fn">succ</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Int"><span class="Data">Int</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Int"><span class="Data">Int</span></a>
| <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-pos"><span class="Constructor">pos</span></a> <a id="v438314766" class="aya-hover" aya-hover-text="Nat" href="#v438314766"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-pos"><span class="Constructor">pos</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v438314766"><span class="LocalVar">n</span></a>)
| <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-neg"><span class="Constructor">neg</span></a> 0 ⇒ <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-pos"><span class="Constructor">pos</span></a> 1
| <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-neg"><span class="Constructor">neg</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a id="v1804126860" class="aya-hover" aya-hover-text="Nat" href="#v1804126860"><span class="LocalVar">n</span></a>) ⇒ <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-neg"><span class="Constructor">neg</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1804126860"><span class="LocalVar">n</span></a>
| <a class="aya-hover" aya-hover-text="pos 0 = neg 0" href="#Mian-Int-zro"><span class="Constructor">zro</span></a> <a id="v862916729" class="aya-hover" aya-hover-text="I" href="#v862916729"><span class="LocalVar">i</span></a> ⇒ <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-pos"><span class="Constructor">pos</span></a> 1

<span class="Keyword">def</span> <a id="Mian-abs" class="aya-hover" aya-hover-text="Nat" href="#Mian-abs"><span class="Fn">abs</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Int"><span class="Data">Int</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>
| <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-pos"><span class="Constructor">pos</span></a> <a id="v1388563249" class="aya-hover" aya-hover-text="Nat" href="#v1388563249"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#v1388563249"><span class="LocalVar">n</span></a>
| <a class="aya-hover" aya-hover-text="Int" href="#Mian-Int-neg"><span class="Constructor">neg</span></a> <a id="v1266265220" class="aya-hover" aya-hover-text="Nat" href="#v1266265220"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#v1266265220"><span class="LocalVar">n</span></a>
| <a class="aya-hover" aya-hover-text="pos 0 = neg 0" href="#Mian-Int-zro"><span class="Constructor">zro</span></a> _ ⇒ 0</code>
</pre><p>The <code class="Aya"><a href="#Mian-succ"><span class="Fn">succ</span></a></code> operator has the first three clauses straightforward, and the last one is a proof of <code class="Aya"><span class="Call"><a href="#Mian-succ"><span class="Fn">succ</span></a> <span class="Call">(<a href="#Mian-Int-neg"><span class="Constructor">neg</span></a> <a href="#Mian-Nat-zero"><span class="Constructor">0</span></a>)</span></span></code> equals <code class="Aya"><span class="Call"><a href="#Mian-succ"><span class="Fn">succ</span></a> <span class="Call">(<a href="#Mian-Int-pos"><span class="Constructor">pos</span></a> <a href="#Mian-Nat-zero"><span class="Constructor">0</span></a>)</span></span></code>, as we should preserve the judgmental equality in the type of <code class="Aya"><a href="#Mian-Int-zro"><span class="Constructor">zro</span></a></code>. We need to do the same for <code class="Aya"><a href="#Mian-abs"><span class="Fn">abs</span></a></code>.</p></div></div></main><footer class="VPDocFooter" data-v-f904a75d data-v-44ba7a43><!--[--><!--]--><div class="edit-info" data-v-44ba7a43><div class="edit-link" data-v-44ba7a43><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/aya-prover/aya-prover-docs/tree/main/src/guide/prover-tutorial.md" target="_blank" rel="noreferrer" data-v-44ba7a43><!--[--><span class="vpi-square-pen edit-link-icon" data-v-44ba7a43></span> Suggest changes to this page<!--]--></a></div><div class="last-updated" data-v-44ba7a43><p class="VPLastUpdated" data-v-44ba7a43 data-v-9123fd4e>Last updated: <time datetime="2024-12-15T22:37:34.000Z" data-v-9123fd4e></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-44ba7a43><span class="visually-hidden" id="doc-footer-aria-label" data-v-44ba7a43>Pager</span><div class="pager" data-v-44ba7a43><a class="VPLink link pager-link prev" href="/guide/haskeller-tutorial.html" data-v-44ba7a43><!--[--><span class="desc" data-v-44ba7a43>Previous page</span><span class="title" data-v-44ba7a43>Functional Programming</span><!--]--></a></div><div class="pager" data-v-44ba7a43><a class="VPLink link pager-link next" href="/guide/project-tutorial.html" data-v-44ba7a43><!--[--><span class="desc" data-v-44ba7a43>Next page</span><span class="title" data-v-44ba7a43>Aya packages</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_binops.md\":\"B-64ecLm\",\"blog_bye-hott.md\":\"Cp1sTWEd\",\"blog_class-defeq.md\":\"Bv6R6WA4\",\"blog_extended-pruning.md\":\"DGL9dNw9\",\"blog_ind-prop.md\":\"BBPt9b6w\",\"blog_index-unification.md\":\"CCWWlNRa\",\"blog_index.md\":\"D-bi3G-6\",\"blog_jit-compile.md\":\"C4HT5U4E\",\"blog_lang-exts.md\":\"C4B5Uj_-\",\"blog_path-elab.md\":\"DuF6Cr48\",\"blog_pathcon-elab.md\":\"JPB6WmI6\",\"blog_redirect.md\":\"DvLlcC7i\",\"blog_tt-in-tt-qiit.md\":\"Bf6d3Cju\",\"guide_fake-literate.md\":\"DMyxLxBs\",\"guide_haskeller-tutorial.md\":\"DmRqyxph\",\"guide_index.md\":\"Dmx_xq94\",\"guide_install.md\":\"DCFhT_8S\",\"guide_project-tutorial.md\":\"CWiygfSO\",\"guide_prover-tutorial.md\":\"BZ0FFQ3P\",\"guide_readings.md\":\"B1j0C01T\",\"guide_vscode-tutorial.md\":\"UHnlVvPv\",\"index.md\":\"CYS2N3nv\",\"pubs_index.md\":\"Bs5-jOQq\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Aya Prover\",\"description\":\"Website for the Aya theorem prover\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/aya-prover\"}],\"editLink\":{\"pattern\":\"https://github.com/aya-prover/aya-prover-docs/tree/main/src/:path\",\"text\":\"Suggest changes to this page\"},\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/\"},{\"text\":\"Publications\",\"link\":\"/pubs/\"},{\"text\":\"Blog\",\"link\":\"/blog/\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":[{\"text\":\"Blog\",\"items\":[{\"text\":\"JVM JIT HOAS compiler\",\"link\":\"/blog/jit-compile\"},{\"text\":\"TT in TT using QIIT\",\"link\":\"/blog/tt-in-tt-qiit\"},{\"text\":\"Extended Pruning\",\"link\":\"/blog/extended-pruning\"},{\"text\":\"Farewell, Univalence\",\"link\":\"/blog/bye-hott\"},{\"text\":\"Impredicative Props\",\"link\":\"/blog/ind-prop\"},{\"text\":\"Def. projection in classes\",\"link\":\"/blog/class-defeq\"},{\"text\":\"Path cons. elaboration\",\"link\":\"/blog/pathcon-elab\"},{\"text\":\"Path type elaboration\",\"link\":\"/blog/path-elab\"},{\"text\":\"Binary operators\",\"link\":\"/blog/binops\"},{\"text\":\"Index unification\",\"link\":\"/blog/index-unification\"},{\"text\":\"Language extensions?\",\"link\":\"/blog/lang-exts\"}]},{\"text\":\"Guide\",\"items\":[{\"text\":\"Get Started\",\"link\":\"/guide/\"},{\"text\":\"Install\",\"link\":\"/guide/install\"},{\"text\":\"Functional Programming\",\"link\":\"/guide/haskeller-tutorial\"},{\"text\":\"Theorem Proving\",\"link\":\"/guide/prover-tutorial\"},{\"text\":\"Aya packages\",\"link\":\"/guide/project-tutorial\"},{\"text\":\"VSCode\",\"link\":\"/guide/vscode-tutorial\"},{\"text\":\"Related papers\",\"link\":\"/guide/readings\"},{\"text\":\"Fake literate mode\",\"link\":\"/guide/fake-literate\"}]}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>