<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>So you know some Haskell | Aya Prover</title>
    <meta name="description" content="Website for the Aya theorem prover">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/assets/style.CRpG7vFT.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.HMtUnl-A.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BZtxTXf2.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BV7BAn2o.js">
    <link rel="modulepreload" href="/assets/guide_haskeller-tutorial.md.DmRqyxph.lean.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.20/dist/katex.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,700;0,900;1,300;1,700&amp;display=swap">
    <link rel="icon" href="/logo.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-73f8b477><!--[--><!--]--><!--[--><span tabindex="-1" data-v-61951b4c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-61951b4c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-73f8b477 data-v-aa4f0da6><div class="VPNavBar" data-v-aa4f0da6 data-v-02dc0b56><div class="wrapper" data-v-02dc0b56><div class="container" data-v-02dc0b56><div class="title" data-v-02dc0b56><div class="VPNavBarTitle has-sidebar" data-v-02dc0b56 data-v-dc0c25a8><a class="title" href="/" data-v-dc0c25a8><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-48f77d65><!--]--><span data-v-dc0c25a8>Aya Prover</span><!--[--><!--]--></a></div></div><div class="content" data-v-02dc0b56><div class="content-body" data-v-02dc0b56><!--[--><!--]--><div class="VPNavBarSearch search" data-v-02dc0b56><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-02dc0b56 data-v-c2386e7e><span id="main-nav-aria-label" class="visually-hidden" data-v-c2386e7e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/" tabindex="0" data-v-c2386e7e data-v-bb3e7266><!--[--><span data-v-bb3e7266>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/pubs/" tabindex="0" data-v-c2386e7e data-v-bb3e7266><!--[--><span data-v-bb3e7266>Publications</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/blog/" tabindex="0" data-v-c2386e7e data-v-bb3e7266><!--[--><span data-v-bb3e7266>Blog</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-02dc0b56 data-v-35275505><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-35275505 data-v-3fde37d2 data-v-a118f0a1><span class="check" data-v-a118f0a1><span class="icon" data-v-a118f0a1><!--[--><span class="vpi-sun sun" data-v-3fde37d2></span><span class="vpi-moon moon" data-v-3fde37d2></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-02dc0b56 data-v-833c2968 data-v-e5420ae9><!--[--><a class="VPSocialLink no-icon" href="https://github.com/aya-prover" aria-label="github" target="_blank" rel="noopener" data-v-e5420ae9 data-v-41781b53><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-02dc0b56 data-v-03c933f9 data-v-06cf88d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-06cf88d3><span class="vpi-more-horizontal icon" data-v-06cf88d3></span></button><div class="menu" data-v-06cf88d3><div class="VPMenu" data-v-06cf88d3 data-v-cfe561be><!----><!--[--><!--[--><!----><div class="group" data-v-03c933f9><div class="item appearance" data-v-03c933f9><p class="label" data-v-03c933f9>Appearance</p><div class="appearance-action" data-v-03c933f9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-03c933f9 data-v-3fde37d2 data-v-a118f0a1><span class="check" data-v-a118f0a1><span class="icon" data-v-a118f0a1><!--[--><span class="vpi-sun sun" data-v-3fde37d2></span><span class="vpi-moon moon" data-v-3fde37d2></span><!--]--></span></span></button></div></div></div><div class="group" data-v-03c933f9><div class="item social-links" data-v-03c933f9><div class="VPSocialLinks social-links-list" data-v-03c933f9 data-v-e5420ae9><!--[--><a class="VPSocialLink no-icon" href="https://github.com/aya-prover" aria-label="github" target="_blank" rel="noopener" data-v-e5420ae9 data-v-41781b53><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-02dc0b56 data-v-84c2b7b6><span class="container" data-v-84c2b7b6><span class="top" data-v-84c2b7b6></span><span class="middle" data-v-84c2b7b6></span><span class="bottom" data-v-84c2b7b6></span></span></button></div></div></div></div><div class="divider" data-v-02dc0b56><div class="divider-line" data-v-02dc0b56></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-73f8b477 data-v-21bab63d><div class="container" data-v-21bab63d><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-21bab63d><span class="vpi-align-left menu-icon" data-v-21bab63d></span><span class="menu-text" data-v-21bab63d>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-21bab63d data-v-25b045a1><button data-v-25b045a1>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-73f8b477 data-v-9e61815d><div class="curtain" data-v-9e61815d></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-9e61815d><span class="visually-hidden" id="sidebar-aria-label" data-v-9e61815d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-da4abe85><section class="VPSidebarItem level-0" data-v-da4abe85 data-v-740295d9><div class="item" role="button" tabindex="0" data-v-740295d9><div class="indicator" data-v-740295d9></div><h2 class="text" data-v-740295d9>Blog</h2><!----></div><div class="items" data-v-740295d9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/jit-compile.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>JVM JIT HOAS compiler</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/tt-in-tt-qiit.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>TT in TT using QIIT</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/extended-pruning.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Extended Pruning</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/bye-hott.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Farewell, Univalence</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/ind-prop.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Impredicative Props</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/class-defeq.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Def. projection in classes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/pathcon-elab.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Path cons. elaboration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/path-elab.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Path type elaboration</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/binops.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Binary operators</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/index-unification.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Index unification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/blog/lang-exts.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Language extensions?</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-da4abe85><section class="VPSidebarItem level-0 has-active" data-v-da4abe85 data-v-740295d9><div class="item" role="button" tabindex="0" data-v-740295d9><div class="indicator" data-v-740295d9></div><h2 class="text" data-v-740295d9>Guide</h2><!----></div><div class="items" data-v-740295d9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Get Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/install.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Install</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/haskeller-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Functional Programming</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/prover-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Theorem Proving</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/project-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Aya packages</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/vscode-tutorial.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>VSCode</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/readings.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Related papers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-740295d9 data-v-740295d9><div class="item" data-v-740295d9><div class="indicator" data-v-740295d9></div><a class="VPLink link link" href="/guide/fake-literate.html" data-v-740295d9><!--[--><p class="text" data-v-740295d9>Fake literate mode</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-73f8b477 data-v-8a5e8f89><div class="VPDoc has-sidebar has-aside" data-v-8a5e8f89 data-v-f904a75d><!--[--><!--]--><div class="container" data-v-f904a75d><div class="aside" data-v-f904a75d><div class="aside-curtain" data-v-f904a75d></div><div class="aside-container" data-v-f904a75d><div class="aside-content" data-v-f904a75d><div class="VPDocAside" data-v-f904a75d data-v-53b58994><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-53b58994 data-v-927ab180><div class="content" data-v-927ab180><div class="outline-marker" data-v-927ab180></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-927ab180>On this page</div><ul class="VPDocOutlineItem root" data-v-927ab180 data-v-82cfa107><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-53b58994></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f904a75d><div class="content-container" data-v-f904a75d><!--[--><!--]--><main class="main" data-v-f904a75d><div style="position:relative;" class="vp-doc _guide_haskeller-tutorial" data-v-f904a75d><div><h1 id="so-you-know-some-haskell" tabindex="-1">So you know some Haskell <a class="header-anchor" href="#so-you-know-some-haskell" aria-label="Permalink to &quot;So you know some Haskell&quot;">​</a></h1><p>Great. I expect you to know something about GHCi and algebraic data types. This is an Aya tutorial for Haskell programmers. If you find a bug, open an issue on GitHub!</p><h2 id="working-with-the-repl" tabindex="-1">Working with the REPL <a class="header-anchor" href="#working-with-the-repl" aria-label="Permalink to &quot;Working with the REPL&quot;">​</a></h2><p>Aya has a REPL that works similar to GHCi. You can start it by running <code>aya -i</code> in your terminal, and you can start typing definitions or expressions.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">aya</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span></span></code></pre></div><p>If you&#39;re using jar with java, use the following instead:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --enable-preview</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -jar</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cli-fatjar.jar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span></span></code></pre></div><p>In the REPL, you can use <code>:l</code> to load a file, <code>:q</code> to quit, and <code>:?</code> to get help. Use <code>:t</code> to show the type. Since it&#39;s dependent type, you can toggle normalization levels by <code>:normalize</code> followed by <code>NF</code>, <code>WHNF</code>, or <code>NULL</code> (don&#39;t normalize).</p><p>To work multiline, use the pair <code>:{</code> and <code>:}</code> -- same as GHCi.</p><p>Aya supports pretty-printing of <em>any</em> terms, including ✨lambdas✨. Note that Aya does not automatically support generic lambdas, so typing <code>\x =&gt; x</code> would not work. You need to specify the type of <code>x</code>, like <code>\(x : Int) =&gt; x</code>.</p><p>Aya support <code>fn</code> as an alias to <code>\</code> instead of <code>λ</code>, similar to Coq and Lean (but not Agda). This is because users (especially mathematicians) are likely to use <code>λ</code> as a variable name. Similarly, we used <code>Fn</code> over <code>Pi</code> or <code>Π</code> for the same reason.</p><h2 id="working-with-projects" tabindex="-1">Working with projects <a class="header-anchor" href="#working-with-projects" aria-label="Permalink to &quot;Working with projects&quot;">​</a></h2><p>Read <a href="./project-tutorial.html">project-tutorial</a>, it is very short. It is recommended to practice the following with an Aya project in VSCode, see <a href="./vscode-tutorial.html">vscode-tutorial</a>.</p><p>About modules:</p><ul><li><p>Aya module names are separated by <code>::</code>, not <code>.</code>.</p></li><li><p>Aya infers the module names automagically, using the same rule as of Haskell.</p></li><li><p>Aya imports (<code>import X</code>) are qualified by default, use <code>open import X</code> to unqualify. This is short for <code>import X</code> followed by <code>open X</code>.</p></li><li><p>Aya supports restricted import <code>open import X using (x)</code> (this only imports <code>x</code> from <code>X</code>) you may also use <code>open import X hiding (x)</code> to import everything except <code>x</code> from <code>X</code>.</p></li><li><p>Aya supports renamed import <code>open import X using (x as y)</code> and the meaning is obvious.</p></li><li><p>To re-export, use a <code>public open</code>.</p></li></ul><p>Ok, let&#39;s write some code!</p><h2 id="programming-in-aya" tabindex="-1">Programming in Aya <a class="header-anchor" href="#programming-in-aya" aria-label="Permalink to &quot;Programming in Aya&quot;">​</a></h2><p>Natural numbers. In Haskell:</p><div class="language-haskell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">haskell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Nat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Zero</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Suc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Nat</span></span></code></pre></div><p>In Aya (we replaced the keyword <code>data</code> with <code>inductive</code> because we want to use it as a package name):</p><pre class="Aya"><code><span class="Keyword">inductive</span> <a id="Mian-Nat" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> | <a id="Mian-Nat-zero" class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-zero"><span class="Constructor">zero</span></a> | <a id="Mian-Nat-suc" class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a></code>
</pre><p>We don&#39;t enforce capitalization of constructors. The constructors need to be qualified (like <code>Nat::zero</code>) to access. As you may expect, <code>Nat</code> automatically becomes a module, so we can use <code>open</code> and <code>public open</code> to unqualify the constructors.</p><p>Bonus: if you define a data type that <em>looks like</em> <code>Nat</code>, then you can use numeric literals.</p><p>Functions are defined with <code>def</code>, followed by pattern matching. Consider this natural number addition in Haskell (intentionally not called <code>+</code> to avoid name clash with Prelude):</p><div class="language-haskell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">haskell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">(&lt;+&gt;)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ::</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Nat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Nat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Nat</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Zero</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;+&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Suc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;+&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Suc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;+&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">infixl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;+&gt;</span></span></code></pre></div><p>In Aya (remember the numeric literal thing?):</p><pre class="Aya"><code><span class="Keyword">open</span> <a href="#Nat">Nat</a>
<span class="Keyword">def</span> <span class="Keyword">infixl</span> <a id="Mian-3c2b3e" class="aya-hover" aya-hover-text="Nat" href="#Mian-3c2b3e"><span class="Fn">&lt;+&gt;</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>
| 0, <a id="v1753714541" class="aya-hover" aya-hover-text="Nat" href="#v1753714541"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#v1753714541"><span class="LocalVar">n</span></a>
| <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a id="v871790326" class="aya-hover" aya-hover-text="Nat" href="#v871790326"><span class="LocalVar">m</span></a>, <a id="v901205084" class="aya-hover" aya-hover-text="Nat" href="#v901205084"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#v871790326"><span class="LocalVar">m</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-3c2b3e"><span class="Fn">&lt;+&gt;</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v901205084"><span class="LocalVar">n</span></a>)</code>
</pre><p>There are plenty of differences. Let&#39;s go through them one by one.</p><p>The <code>infixl</code> declares <code>&lt;+&gt;</code> to be a left-associative infix operator. Other options include <code>infix</code>, <code>infixr</code>, <code>fixl</code>, and <code>fixr</code>. Without it, the function will work the same as normal function. Unlike Haskell, we do not distinguish &quot;operator&quot; names and &quot;function&quot; names.</p><p>We do not use a number to denote precedence, but a partial order. This allows arbitrary insertion of new precedence level into previously defined ones. Say you want <code>&lt;+&gt;</code> to have a lower precedence than <code>&lt;*&gt;</code>, you can do:</p><pre class="Aya"><code><span class="Keyword">def</span> <span class="Keyword">infixl</span> &lt;+&gt; Nat Nat : Nat
<span class="Comment">/// .... omitted</span>
<span class="Keyword">looser</span> &lt;*&gt;</code>
</pre><p>You also have <code>tighter</code>, with the obvious meaning.</p><p>The parameters and the return type are separated using <code>:</code>. The parameter types can be written directly, without <code>-&gt;</code>. Aya allow naming the parameters like this:</p><pre class="Aya"><code><span class="Keyword">def</span> oh (x : Nat) : Nat</code>
</pre><p>These names can be used for one-linear function bodies:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-oh" class="aya-hover" aya-hover-text="Nat" href="#Mian-oh"><span class="Fn">oh</span></a> (<a id="v110651474" class="aya-hover" aya-hover-text="Nat" href="#v110651474"><span class="LocalVar">x</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#v110651474"><span class="LocalVar">x</span></a></code>
</pre><p>Aya supports a painless version of the section syntax, where the top-level does not need parentheses. See the following REPL output (the underscored names are internally generated variable names. If you have an idea on how to make them better, open an issue and let&#39;s discuss!).</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&gt; 1 &lt;+&gt;</span></span>
<span class="line"><span>suc</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&gt; &lt;+&gt; 1</span></span>
<span class="line"><span>λ _7 ⇒ _7 &lt;+&gt; 1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&gt; 1 &lt;+&gt; 1</span></span>
<span class="line"><span>suc 1</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&gt; 2 &lt;+&gt;</span></span>
<span class="line"><span>λ _5 ⇒ suc (suc _5)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&gt; &lt;+&gt; 2</span></span>
<span class="line"><span>λ _7 ⇒ _7 &lt;+&gt; 2</span></span></code></pre></div><p>When we only need to pattern match on a subset of the parameters, we can use the <code>elim</code> keyword:</p><pre class="Aya"><code><span class="Keyword">example</span> <span class="Keyword">def</span> <span class="Keyword">infixl</span> <a id="Mian-3aNoExport-5b2b5d" class="aya-hover" aya-hover-text="Nat" href="#Mian-3aNoExport-5b2b5d"><span class="Fn">[+]</span></a> (<a id="v170949260" class="aya-hover" aya-hover-text="Nat" href="#v170949260"><span class="LocalVar">a</span></a> <a id="v1845623216" class="aya-hover" aya-hover-text="Nat" href="#v1845623216"><span class="LocalVar">n</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a> <span class="Keyword">elim</span> <a href="#v170949260"><span class="LocalVar">a</span></a>
| 0 ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#v1845623216"><span class="LocalVar">n</span></a>
| <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a id="v965586344" class="aya-hover" aya-hover-text="Nat" href="#v965586344"><span class="LocalVar">m</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#v965586344"><span class="LocalVar">m</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-3aNoExport-5b2b5d"><span class="Fn">[+]</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1845623216"><span class="LocalVar">n</span></a>)</code>
</pre><h2 id="type-level-programming" tabindex="-1">Type-level programming <a class="header-anchor" href="#type-level-programming" aria-label="Permalink to &quot;Type-level programming&quot;">​</a></h2><p>In Haskell:</p><div class="language-haskell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">haskell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">id</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x</span></span></code></pre></div><p>In Aya:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-id" class="aya-hover" aya-hover-text="A" href="#Mian-id"><span class="Fn">id</span></a> {<a id="v1337866219" class="aya-hover" aya-hover-text="Type 0" href="#v1337866219"><span class="LocalVar">A</span></a> : <span class="Keyword">Type</span>} (<a id="v313082880" class="aya-hover" aya-hover-text="A" href="#v313082880"><span class="LocalVar">x</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v1337866219"><span class="LocalVar">A</span></a>) ⇒ <a class="aya-hover" aya-hover-text="A" href="#v313082880"><span class="LocalVar">x</span></a></code>
</pre><p>Observations:</p><ul><li><p>Type parameters have to be explicitly qualified using curly braces.</p></li><li><p>Curly braces denote parameters that are omitted (and will be inferred by type checker) in the pattern matching and invocations. So, parentheses denote parameters that are <i>not</i> omitted.</p></li><li><p>Apart from <code>Type</code>, we also have <code>Set</code>, and <code>ISet</code>. For now, don&#39;t use the others.</p></li></ul><p>Type constructors are like <code>{F : Type -&gt; Type}</code> (and yes, the <code>-&gt;</code> denotes function types, works for both values and types), very obvious. Definition of <code>Maybe</code> in Aya:</p><pre class="Aya"><code><span class="Keyword">open</span> <span class="Keyword">inductive</span> <a id="Mian-Maybe" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Maybe"><span class="Data">Maybe</span></a> (<a id="v193178046" class="aya-hover" aya-hover-text="Type 0" href="#v193178046"><span class="LocalVar">A</span></a> : <span class="Keyword">Type</span>)
| <a id="Mian-Maybe-nothing" class="aya-hover" aya-hover-text="Maybe A" href="#Mian-Maybe-nothing"><span class="Constructor">nothing</span></a>
| <a id="Mian-Maybe-just" class="aya-hover" aya-hover-text="Maybe A" href="#Mian-Maybe-just"><span class="Constructor">just</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v193178046"><span class="LocalVar">A</span></a></code>
</pre><p>Here, <code>(A : Type)</code> is an explicit parameter, because you write <code>Maybe Nat</code>, not just <code>Maybe</code>.</p><p>There is a way to automagically insert the implicit parameters -- the <code>variable</code> keyword.</p><pre class="Aya"><code><span class="Keyword">variable</span> <a id="v764419760" href="#v764419760"><span class="Generalized">A</span></a> : <span class="Keyword">Type</span>

<span class="Comment">// Now, since you are using A, so Aya inserts {A : Type}</span>
<span class="Keyword">example</span> <span class="Keyword">def</span> <span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+V2FybmluZzogVGhlIG5hbWUgYGlkYCBzaGFkb3dzIGEgcHJldmlvdXMgbG9jYWwgZGVmaW5pdGlvbiBmcm9tIG91dGVyIHNjb3BlPC9jb2RlPgo8L3ByZT4K"><span class="Warning"><a id="Mian-3aNoExport-id" class="aya-hover" aya-hover-text="A" href="#Mian-3aNoExport-id"><span class="Fn">id</span></a></span></span> (<a id="v1826334428" class="aya-hover" aya-hover-text="A" href="#v1826334428"><span class="LocalVar">x</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#v764419760"><span class="Generalized">A</span></a>) ⇒ <a class="aya-hover" aya-hover-text="A" href="#v1826334428"><span class="LocalVar">x</span></a></code>
</pre><p>Aya supports type aliases as functions. For example, we may define the type of binary operators as a function:</p><pre class="Aya"><code><span class="Keyword">def</span> <a id="Mian-BinOp" class="aya-hover" aya-hover-text="Type 0" href="#Mian-BinOp"><span class="Fn">BinOp</span></a> (<a id="v51152513" class="aya-hover" aya-hover-text="Type 0" href="#v51152513"><span class="LocalVar">A</span></a> : <span class="Keyword">Type</span>) ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#v51152513"><span class="LocalVar">A</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#v51152513"><span class="LocalVar">A</span></a> → <a class="aya-hover" aya-hover-text="Type 0" href="#v51152513"><span class="LocalVar">A</span></a></code>
</pre><p>Then, we can define <code>&lt;+&gt;</code> as:</p><pre class="Aya"><code><span class="Keyword">example</span> <span class="Keyword">def</span> <span class="Keyword">infixl</span> <span class="aya-tooltip" data-tooltip-text="PHByZSBjbGFzcz0iQXlhIj4KPGNvZGU+V2FybmluZzogVGhlIG5hbWUgYDwrPmAgc2hhZG93cyBhIHByZXZpb3VzIGxvY2FsIGRlZmluaXRpb24gZnJvbSBvdXRlciBzY29wZTwvY29kZT4KPC9wcmU+Cg=="><span class="Warning"><a id="Mian-3aNoExport-3c2b3e" class="aya-hover" aya-hover-text="Nat" href="#Mian-3aNoExport-3c2b3e"><span class="Fn">&lt;+&gt;</span></a></span></span> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-BinOp"><span class="Fn">BinOp</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>
| 0, <a id="v1789268516" class="aya-hover" aya-hover-text="Nat" href="#v1789268516"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#v1789268516"><span class="LocalVar">n</span></a>
| <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a id="v817686795" class="aya-hover" aya-hover-text="Nat" href="#v817686795"><span class="LocalVar">m</span></a>, <a id="v1047478056" class="aya-hover" aya-hover-text="Nat" href="#v1047478056"><span class="LocalVar">n</span></a> ⇒ <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#v817686795"><span class="LocalVar">m</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-3aNoExport-3c2b3e"><span class="Fn">&lt;+&gt;</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1047478056"><span class="LocalVar">n</span></a>)</code>
</pre><h2 id="type-families" tabindex="-1">Type families <a class="header-anchor" href="#type-families" aria-label="Permalink to &quot;Type families&quot;">​</a></h2><p>In Aya, type families are functions. Consider the following code (they are using the <code>variable A</code> defined above):</p><pre class="Aya"><code><span class="Comment">// Unit type</span>
<span class="Keyword">open</span> <span class="Keyword">inductive</span> <a id="Mian-Unit" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Unit"><span class="Data">Unit</span></a> | <a id="Mian-Unit-unit" class="aya-hover" aya-hover-text="Unit" href="#Mian-Unit-unit"><span class="Constructor">unit</span></a>

<span class="Comment">// A type family</span>
<span class="Keyword">def</span> <a id="Mian-FromJust" class="aya-hover" aya-hover-text="Type 0" href="#Mian-FromJust"><span class="Fn">FromJust</span></a> (<a id="v110053477" class="aya-hover" aya-hover-text="Maybe A" href="#v110053477"><span class="LocalVar">x</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Maybe"><span class="Data">Maybe</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v764419760"><span class="Generalized">A</span></a>) : <span class="Keyword">Type</span>
| <a class="aya-hover" aya-hover-text="Maybe A" href="#Mian-Maybe-just"><span class="Constructor">just</span></a> <a id="v1320105604" class="aya-hover" aya-hover-text="A" href="#v1320105604"><span class="LocalVar">a</span></a> ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#v764419760"><span class="Generalized">A</span></a>
| <a class="aya-hover" aya-hover-text="Maybe A" href="#Mian-Maybe-nothing"><span class="Constructor">nothing</span></a> ⇒ <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Unit"><span class="Data">Unit</span></a>

<span class="Comment">// A function that uses the type family</span>
<span class="Keyword">def</span> <a id="Mian-fromJust" class="aya-hover" aya-hover-text="FromJust x" href="#Mian-fromJust"><span class="Fn">fromJust</span></a> (<a id="v1534755892" class="aya-hover" aya-hover-text="Maybe A" href="#v1534755892"><span class="LocalVar">x</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Maybe"><span class="Data">Maybe</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v764419760"><span class="Generalized">A</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-FromJust"><span class="Fn">FromJust</span></a> <a class="aya-hover" aya-hover-text="Maybe A" href="#v1534755892"><span class="LocalVar">x</span></a>
| <a class="aya-hover" aya-hover-text="Maybe A" href="#Mian-Maybe-just"><span class="Constructor">just</span></a> <a id="v1142347343" class="aya-hover" aya-hover-text="A" href="#v1142347343"><span class="LocalVar">a</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#v1142347343"><span class="LocalVar">a</span></a>
| <a class="aya-hover" aya-hover-text="Maybe A" href="#Mian-Maybe-nothing"><span class="Constructor">nothing</span></a> ⇒ <a class="aya-hover" aya-hover-text="Unit" href="#Mian-Unit-unit"><span class="Constructor">unit</span></a></code>
</pre><p>And <code>fromJust (just a)</code> will evaluate to <code>a</code>. In Haskell, you need to use some language extensions alongside some scary keywords. These functions are available in constructors, too:</p><pre class="Aya"><code><span class="Keyword">inductive</span> <a id="Mian-Example" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Example"><span class="Data">Example</span></a> (<a id="v808417649" class="aya-hover" aya-hover-text="Type 0" href="#v808417649"><span class="LocalVar">A</span></a> : <span class="Keyword">Type</span>)
| <a id="Mian-Example-cons" class="aya-hover" aya-hover-text="Example A" href="#Mian-Example-cons"><span class="Constructor">cons</span></a> (<a id="v858204589" class="aya-hover" aya-hover-text="Maybe A" href="#v858204589"><span class="LocalVar">x</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Maybe"><span class="Data">Maybe</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v808417649"><span class="LocalVar">A</span></a>) (<a class="aya-hover" aya-hover-text="Type 0" href="#Mian-FromJust"><span class="Fn">FromJust</span></a> <a class="aya-hover" aya-hover-text="Maybe A" href="#v858204589"><span class="LocalVar">x</span></a>)</code>
</pre><p>It is recommended to play with it in the REPL to get a feel of it.</p><p>There is a famous example of dependent types in Haskell -- the sized vector type:</p><div class="language-haskell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">haskell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{-# </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LANGUAGE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> GADTs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #-}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{-# </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LANGUAGE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DataKinds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> #-}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Maybe you need more, I don&#39;t remember exactly</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Vec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ::</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Nat</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> where</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  Nil</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ::</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Vec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Zero</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Vec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Vec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Suc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n) a</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">infixr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :&lt;</span></span></code></pre></div><p>In Aya, we have a better syntax:</p><pre class="Aya"><code><span class="Keyword">open</span> <span class="Keyword">inductive</span> <a id="Mian-Vec" class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> (<a id="v156710276" class="aya-hover" aya-hover-text="Nat" href="#v156710276"><span class="LocalVar">n</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>) (<a id="v53940034" class="aya-hover" aya-hover-text="Type 0" href="#v53940034"><span class="LocalVar">A</span></a> : <span class="Keyword">Type</span>)
| 0, <a id="v1616359099" class="aya-hover" aya-hover-text="Type 0" href="#v1616359099"><span class="LocalVar">A</span></a> ⇒ <a id="Mian-Vec-nil" class="aya-hover" aya-hover-text="Vec 0 A" href="#Mian-Vec-nil"><span class="Constructor">nil</span></a>
| <a class="aya-hover" aya-hover-text="Nat" href="#Mian-Nat-suc"><span class="Constructor">suc</span></a> <a id="v2106165633" class="aya-hover" aya-hover-text="Nat" href="#v2106165633"><span class="LocalVar">n</span></a>, <a id="v1221991240" class="aya-hover" aya-hover-text="Type 0" href="#v1221991240"><span class="LocalVar">A</span></a> ⇒ <span class="Keyword">infixr</span> <a id="Mian-Vec-3a3c" class="aya-hover" aya-hover-text="Vec (suc n) A" href="#Mian-Vec-3a3c"><span class="Constructor">:&lt;</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v1221991240"><span class="LocalVar">A</span></a> (<a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v2106165633"><span class="LocalVar">n</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v1221991240"><span class="LocalVar">A</span></a>)</code>
</pre><p>The <code class="Aya"><a href="#Mian-Vec-3a3c"><span class="Constructor">:&lt;</span></a></code> constructor is defined as a right-associative infix operator. And yes, you can define like vector append painlessly:</p><pre class="Aya"><code><span class="Keyword">variable</span> <a id="v1094523823" href="#v1094523823"><span class="Generalized">m</span></a> <a id="v1823409783" href="#v1823409783"><span class="Generalized">n</span></a> : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Nat"><span class="Data">Nat</span></a>

<span class="Keyword">def</span> <span class="Keyword">infixr</span> <a id="Mian-2b2b" class="aya-hover" aya-hover-text="Vec (n &lt;+&gt; m) A" href="#Mian-2b2b"><span class="Fn">++</span></a> (<a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1823409783"><span class="Generalized">n</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v764419760"><span class="Generalized">A</span></a>) (<a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1094523823"><span class="Generalized">m</span></a> <a class="aya-hover" aya-hover-text="Type 0" href="#v764419760"><span class="Generalized">A</span></a>) : <a class="aya-hover" aya-hover-text="Type 0" href="#Mian-Vec"><span class="Data">Vec</span></a> (<a class="aya-hover" aya-hover-text="Nat" href="#v1823409783"><span class="Generalized">n</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#Mian-3c2b3e"><span class="Fn">&lt;+&gt;</span></a> <a class="aya-hover" aya-hover-text="Nat" href="#v1094523823"><span class="Generalized">m</span></a>) <a class="aya-hover" aya-hover-text="Type 0" href="#v764419760"><span class="Generalized">A</span></a>
| <a class="aya-hover" aya-hover-text="Vec 0 A" href="#Mian-Vec-nil"><span class="Constructor">nil</span></a>, <a id="v1090541608" class="aya-hover" aya-hover-text="Vec m A" href="#v1090541608"><span class="LocalVar">ys</span></a> ⇒ <a class="aya-hover" aya-hover-text="Vec m A" href="#v1090541608"><span class="LocalVar">ys</span></a>
| <a id="v34871826" class="aya-hover" aya-hover-text="A" href="#v34871826"><span class="LocalVar">x</span></a> <a class="aya-hover" aya-hover-text="Vec (suc n) A" href="#Mian-Vec-3a3c"><span class="Constructor">:&lt;</span></a> <a id="v1100399456" class="aya-hover" aya-hover-text="Vec n A" href="#v1100399456"><span class="LocalVar">xs</span></a>, <a id="v68326648" class="aya-hover" aya-hover-text="Vec m A" href="#v68326648"><span class="LocalVar">ys</span></a> ⇒ <a class="aya-hover" aya-hover-text="A" href="#v34871826"><span class="LocalVar">x</span></a> <a class="aya-hover" aya-hover-text="Vec (suc (?n A x xs ys n m)) (?A A x xs ys n m)" href="#Mian-Vec-3a3c"><span class="Constructor">:&lt;</span></a> <a class="aya-hover" aya-hover-text="Vec n A" href="#v1100399456"><span class="LocalVar">xs</span></a> <a class="aya-hover" aya-hover-text="Vec (?n A x xs ys n m &lt;+&gt; ?m A x xs ys n m) (?A A x xs ys n m)" href="#Mian-2b2b"><span class="Fn">++</span></a> <a class="aya-hover" aya-hover-text="Vec m A" href="#v68326648"><span class="LocalVar">ys</span></a>
<span class="Keyword">tighter</span> <a class="aya-hover" aya-hover-text="Vec (suc n) A" href="#Mian-Vec-3a3c"><span class="Constructor">:&lt;</span></a></code>
</pre><p>Imagine how much work this is in Haskell.</p><h2 id="overlapping-patterns" tabindex="-1">Overlapping patterns <a class="header-anchor" href="#overlapping-patterns" aria-label="Permalink to &quot;Overlapping patterns&quot;">​</a></h2><p>There is one more bonus: in Aya, you may modify the definition of <code>&lt;+&gt;</code> to be:</p><pre class="Aya"><code><span class="Keyword">overlap</span> <span class="Keyword">def</span> <span class="Keyword">infixl</span> &lt;+&gt; Nat Nat : Nat
| 0, n ⇒ n
| n, 0 ⇒ n
| suc m, n ⇒ suc (m &lt;+&gt; n)</code>
</pre><p>It says we not only compute <code>0 + n = n</code>, but when the first parameter is neither <code>0</code> nor <code>suc</code>, we may take a look at the second parameter and seek for other potential computations. This is completely useless at runtime, but very good for type checking. For instance, we may want a <code class="Aya"><a href="#Mian-Vec"><span class="Data">Vec</span></a></code> of size <code>n</code>, and what we have is some <code class="Aya"><a href="#Mian-Vec"><span class="Data">Vec</span></a></code> of size <code>n + 0</code>. Then having <code>n + 0</code> to directly reduce to <code>n</code> is very useful, otherwise we will need to write a conversion function that does nothing but changes the type, or use <code>unsafeCoerce</code>.</p><p>With <code>n + 0 = n</code> judgmentally, we now have more possibilities. For instance, we can make <code>xs ++ nil = xs</code>. This involves in two steps: we first turni <code>++</code> into a <code>overlap def</code>, then we add the following clause to <code>++</code>:</p><pre class="Aya"><code>| xs, nil ⇒ xs</code>
</pre><p>This makes <code>++</code> compute on more cases too.</p><p>For more information about this feature, checkout the <a href="./prover-tutorial.html">tutorial for proof assistant users</a>.</p></div></div></main><footer class="VPDocFooter" data-v-f904a75d data-v-44ba7a43><!--[--><!--]--><div class="edit-info" data-v-44ba7a43><div class="edit-link" data-v-44ba7a43><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/aya-prover/aya-prover-docs/tree/main/src/guide/haskeller-tutorial.md" target="_blank" rel="noreferrer" data-v-44ba7a43><!--[--><span class="vpi-square-pen edit-link-icon" data-v-44ba7a43></span> Suggest changes to this page<!--]--></a></div><div class="last-updated" data-v-44ba7a43><p class="VPLastUpdated" data-v-44ba7a43 data-v-9123fd4e>Last updated: <time datetime="2024-12-15T22:37:34.000Z" data-v-9123fd4e></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-44ba7a43><span class="visually-hidden" id="doc-footer-aria-label" data-v-44ba7a43>Pager</span><div class="pager" data-v-44ba7a43><a class="VPLink link pager-link prev" href="/guide/install.html" data-v-44ba7a43><!--[--><span class="desc" data-v-44ba7a43>Previous page</span><span class="title" data-v-44ba7a43>Install</span><!--]--></a></div><div class="pager" data-v-44ba7a43><a class="VPLink link pager-link next" href="/guide/prover-tutorial.html" data-v-44ba7a43><!--[--><span class="desc" data-v-44ba7a43>Next page</span><span class="title" data-v-44ba7a43>Theorem Proving</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"blog_binops.md\":\"B-64ecLm\",\"blog_bye-hott.md\":\"Cp1sTWEd\",\"blog_class-defeq.md\":\"Bv6R6WA4\",\"blog_extended-pruning.md\":\"DGL9dNw9\",\"blog_ind-prop.md\":\"BBPt9b6w\",\"blog_index-unification.md\":\"CCWWlNRa\",\"blog_index.md\":\"D-bi3G-6\",\"blog_jit-compile.md\":\"C4HT5U4E\",\"blog_lang-exts.md\":\"C4B5Uj_-\",\"blog_path-elab.md\":\"DuF6Cr48\",\"blog_pathcon-elab.md\":\"JPB6WmI6\",\"blog_redirect.md\":\"DvLlcC7i\",\"blog_tt-in-tt-qiit.md\":\"Bf6d3Cju\",\"guide_fake-literate.md\":\"DMyxLxBs\",\"guide_haskeller-tutorial.md\":\"DmRqyxph\",\"guide_index.md\":\"Dmx_xq94\",\"guide_install.md\":\"DCFhT_8S\",\"guide_project-tutorial.md\":\"CWiygfSO\",\"guide_prover-tutorial.md\":\"BZ0FFQ3P\",\"guide_readings.md\":\"B1j0C01T\",\"guide_vscode-tutorial.md\":\"UHnlVvPv\",\"index.md\":\"CYS2N3nv\",\"pubs_index.md\":\"Bs5-jOQq\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Aya Prover\",\"description\":\"Website for the Aya theorem prover\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/aya-prover\"}],\"editLink\":{\"pattern\":\"https://github.com/aya-prover/aya-prover-docs/tree/main/src/:path\",\"text\":\"Suggest changes to this page\"},\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/\"},{\"text\":\"Publications\",\"link\":\"/pubs/\"},{\"text\":\"Blog\",\"link\":\"/blog/\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":[{\"text\":\"Blog\",\"items\":[{\"text\":\"JVM JIT HOAS compiler\",\"link\":\"/blog/jit-compile\"},{\"text\":\"TT in TT using QIIT\",\"link\":\"/blog/tt-in-tt-qiit\"},{\"text\":\"Extended Pruning\",\"link\":\"/blog/extended-pruning\"},{\"text\":\"Farewell, Univalence\",\"link\":\"/blog/bye-hott\"},{\"text\":\"Impredicative Props\",\"link\":\"/blog/ind-prop\"},{\"text\":\"Def. projection in classes\",\"link\":\"/blog/class-defeq\"},{\"text\":\"Path cons. elaboration\",\"link\":\"/blog/pathcon-elab\"},{\"text\":\"Path type elaboration\",\"link\":\"/blog/path-elab\"},{\"text\":\"Binary operators\",\"link\":\"/blog/binops\"},{\"text\":\"Index unification\",\"link\":\"/blog/index-unification\"},{\"text\":\"Language extensions?\",\"link\":\"/blog/lang-exts\"}]},{\"text\":\"Guide\",\"items\":[{\"text\":\"Get Started\",\"link\":\"/guide/\"},{\"text\":\"Install\",\"link\":\"/guide/install\"},{\"text\":\"Functional Programming\",\"link\":\"/guide/haskeller-tutorial\"},{\"text\":\"Theorem Proving\",\"link\":\"/guide/prover-tutorial\"},{\"text\":\"Aya packages\",\"link\":\"/guide/project-tutorial\"},{\"text\":\"VSCode\",\"link\":\"/guide/vscode-tutorial\"},{\"text\":\"Related papers\",\"link\":\"/guide/readings\"},{\"text\":\"Fake literate mode\",\"link\":\"/guide/fake-literate\"}]}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>